<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/docs_blog/favicons/favicon.ico><link rel=apple-touch-icon href=/docs_blog/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/docs_blog/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/docs_blog/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/docs_blog/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/docs_blog/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/docs_blog/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/docs_blog/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/docs_blog/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/docs_blog/favicons/android-192x192.png sizes=192x192><title>Terraform Backend | OpenVERS</title><meta name=description content="Azure - Optional Configurations When Not Using Terraform.io Workspace Backends.
"><meta property="og:title" content="Terraform Backend"><meta property="og:description" content="Azure - Optional Configurations When Not Using Terraform.io Workspace Backends.
"><meta property="og:type" content="article"><meta property="og:url" content="https://openvers.github.io/docs_blog/docs/cloud_setup/azure/terraform_backend/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2024-11-13T00:00:00+00:00"><meta property="article:modified_time" content="2025-09-03T12:11:30-04:00"><meta property="og:site_name" content="OpenVERS"><meta itemprop=name content="Terraform Backend"><meta itemprop=description content="Azure - Optional Configurations When Not Using Terraform.io Workspace Backends.
"><meta itemprop=datePublished content="2024-11-13T00:00:00+00:00"><meta itemprop=dateModified content="2025-09-03T12:11:30-04:00"><meta itemprop=wordCount content="1116"><meta itemprop=keywords content="Azure,Terraform,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Terraform Backend"><meta name=twitter:description content="Azure - Optional Configurations When Not Using Terraform.io Workspace Backends.
"><link rel=preload href=/docs_blog/scss/main.min.44e056411013bf8f18a255176cfb0420600587168abb56228837c1f35a8df1c0.css as=style><link href=/docs_blog/scss/main.min.44e056411013bf8f18a255176cfb0420600587168abb56228837c1f35a8df1c0.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/docs_blog/><span class="navbar-brand__logo navbar-logo"><svg width="128" height="128" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><title>OpenVERS Icon - White Background</title><desc>A dimensional icon for Open Data Versatility with a white background circle. It features an open deep blue ring and three bright teal lines with an enhanced extruded effect suggesting depth.</desc><style>.fill-none{fill:none}.stroke-linecap-round{stroke-linecap:round}.circle-main-style{stroke:#3b4856;stroke-width:10}.circle-depth-style{stroke:#072a5c;stroke-width:10}.line-main-style{stroke:#009cff;stroke-width:8}.line-depth-style{stroke:#007a8a;stroke-width:8}.line-accent-shadow-style{stroke:#005f6b;stroke-width:2}.bg-circle-style{fill:#fff}</style><circle class="bg-circle-style" cx="50" cy="50" r="50"/><path d="M86.5 51.5a35 35 0 11-35-35" class="fill-none stroke-linecap-round circle-depth-style"/><path d="M85 50A35 35 0 1150 15" class="fill-none stroke-linecap-round circle-main-style"/><g class="fill-none stroke-linecap-round line-accent-shadow-style"><line x1="52.5" y1="52.5" x2="79.5" y2="25.5"/><line x1="52.5" y1="52.5" x2="26.5" y2="37.5"/><line x1="52.5" y1="52.5" x2="52.5" y2="82.5"/></g><g class="fill-none stroke-linecap-round line-depth-style"><line x1="51.5" y1="51.5" x2="78.5" y2="24.5"/><line x1="51.5" y1="51.5" x2="25.5" y2="36.5"/><line x1="51.5" y1="51.5" x2="51.5" y2="81.5"/></g><g class="fill-none stroke-linecap-round line-main-style"><line x1="50" y1="50" x2="77" y2="23"/><line x1="50" y1="50" x2="24" y2="35"/><line x1="50" y1="50" x2="50" y2="80"/></g></svg></span><span class=navbar-brand__name>OpenVERS</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/docs_blog/about/><span>About</span></a></li><li class=nav-item><a class=nav-link href=/docs_blog/blog/><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/docs_blog/community/><span>Community</span></a></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs_blogdocs-li><a href=/docs_blog/docs/ title=Documentation class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs_blogdocs><span>Docs</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs_blogdocscloud_setup-li><a href=/docs_blog/docs/cloud_setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docs_blogdocscloud_setup><span>Cloud Setup</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs_blogdocscloud_setupgithub-li><a href=/docs_blog/docs/cloud_setup/github/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupgithub><span>Github</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs_blogdocscloud_setupterraform_io-li><a href=/docs_blog/docs/cloud_setup/terraform_io/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupterraform_io><span>Terraform.io</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs_blogdocscloud_setupaws-li><a href=/docs_blog/docs/cloud_setup/aws/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docs_blogdocscloud_setupaws><span>Amazon Web Services (AWS)</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupawsnew_account_setup-li><a href=/docs_blog/docs/cloud_setup/aws/new_account_setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupawsnew_account_setup><span>Account Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupawsterraform_backend-li><a href=/docs_blog/docs/cloud_setup/aws/terraform_backend/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupawsterraform_backend><span>Terraform Backend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupawsopenid_connect-li><a href=/docs_blog/docs/cloud_setup/aws/openid_connect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupawsopenid_connect><span>OpenID Connect</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs_blogdocscloud_setupazure-li><a href=/docs_blog/docs/cloud_setup/azure/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docs_blogdocscloud_setupazure><span>Microsoft Azure</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs_blogdocscloud_setupazurenew_account_setup-li><a href=/docs_blog/docs/cloud_setup/azure/new_account_setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupazurenew_account_setup><span>Account Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docs_blogdocscloud_setupazureterraform_backend-li><a href=/docs_blog/docs/cloud_setup/azure/terraform_backend/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupazureterraform_backend><span class=td-sidebar-nav-active-item>Terraform Backend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs_blogdocscloud_setupazureopenid_connect-li><a href=/docs_blog/docs/cloud_setup/azure/openid_connect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupazureopenid_connect><span>OpenID Connect</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs_blogdocscloud_setupgcp-li><a href=/docs_blog/docs/cloud_setup/gcp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docs_blogdocscloud_setupgcp><span>Google Cloud Platform (GCP)</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupgcpnew_account_setup-li><a href=/docs_blog/docs/cloud_setup/gcp/new_account_setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupgcpnew_account_setup><span>Account Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupgcpterraform_backend-li><a href=/docs_blog/docs/cloud_setup/gcp/terraform_backend/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupgcpterraform_backend><span>Terraform Backend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupgcpopenid_connect-li><a href=/docs_blog/docs/cloud_setup/gcp/openid_connect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupgcpopenid_connect><span>OpenID Connect</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs_blogdocsdata_ingestion-li><a href=/docs_blog/docs/data_ingestion/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docs_blogdocsdata_ingestion><span>Data Ingestion & Data Lake</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocsdata_ingestionaws-li><a href=/docs_blog/docs/data_ingestion/aws/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocsdata_ingestionaws><span>AWS | Data Ingestion & Data Lake</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="taxonomy-terms-cloud td-page-meta ms-2 pb-1 pt-2 mb-0"><h5 class=taxonomy-title>Page Actions</h5><a href=https://github.com/google/docsy-example/tree/main/content/en/docs/cloud_setup/azure/terraform_backend.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/google/docsy-example/edit/main/content/en/docs/cloud_setup/azure/terraform_backend.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/google/docsy-example/new/main/content/en/docs/cloud_setup/azure?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/google/docsy-example/issues/new?title=Terraform%20Backend" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/google/docsy/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a>
<a id=print href=/docs_blog/docs/cloud_setup/azure/_print/><i class="fa-solid fa-print fa-fw"></i> Print entire section</a></div><div class="taxonomy-terms-cloud td-toc mt-3 mb-3 td-page-meta" style=opacity:1><h5 class=taxonomy-title>Contents</h5><nav id=TableOfContents class=td-page-toc__nav><ul><nav id=TableOfContents><ul><li><a href=#cli-steps>CLI Steps</a></li><li><a href=#console-steps>Console Steps</a><ul><li><a href=#create-azure-resources>Create Azure Resources</a></li><li><a href=#configure-managed-identity-and-permissions>Configure Managed Identity and Permissions</a></li><li><a href=#configure-terraform-files>Configure Terraform Files</a></li></ul></li></ul></nav></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tags</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/aws/ data-taxonomy-term=aws><img src="https://img.shields.io/badge/AWS-white.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAzMDQgMTgyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMDQgMTgyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI%2BDQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojMjUyRjNFO30NCgkuc3Qxe2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I0ZGOTkwMDt9DQo8L3N0eWxlPg0KPGc%2BDQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTg2LjQsNjYuNGMwLDMuNywwLjQsNi43LDEuMSw4LjljMC44LDIuMiwxLjgsNC42LDMuMiw3LjJjMC41LDAuOCwwLjcsMS42LDAuNywyLjNjMCwxLTAuNiwyLTEuOSwzbC02LjMsNC4yDQoJCWMtMC45LDAuNi0xLjgsMC45LTIuNiwwLjljLTEsMC0yLTAuNS0zLTEuNEM3Ni4yLDkwLDc1LDg4LjQsNzQsODYuOGMtMS0xLjctMi0zLjYtMy4xLTUuOWMtNy44LDkuMi0xNy42LDEzLjgtMjkuNCwxMy44DQoJCWMtOC40LDAtMTUuMS0yLjQtMjAtNy4yYy00LjktNC44LTcuNC0xMS4yLTcuNC0xOS4yYzAtOC41LDMtMTUuNCw5LjEtMjAuNmM2LjEtNS4yLDE0LjItNy44LDI0LjUtNy44YzMuNCwwLDYuOSwwLjMsMTAuNiwwLjgNCgkJYzMuNywwLjUsNy41LDEuMywxMS41LDIuMnYtNy4zYzAtNy42LTEuNi0xMi45LTQuNy0xNmMtMy4yLTMuMS04LjYtNC42LTE2LjMtNC42Yy0zLjUsMC03LjEsMC40LTEwLjgsMS4zYy0zLjcsMC45LTcuMywyLTEwLjgsMy40DQoJCWMtMS42LDAuNy0yLjgsMS4xLTMuNSwxLjNjLTAuNywwLjItMS4yLDAuMy0xLjYsMC4zYy0xLjQsMC0yLjEtMS0yLjEtMy4xdi00LjljMC0xLjYsMC4yLTIuOCwwLjctMy41YzAuNS0wLjcsMS40LTEuNCwyLjgtMi4xDQoJCWMzLjUtMS44LDcuNy0zLjMsMTIuNi00LjVjNC45LTEuMywxMC4xLTEuOSwxNS42LTEuOWMxMS45LDAsMjAuNiwyLjcsMjYuMiw4LjFjNS41LDUuNCw4LjMsMTMuNiw4LjMsMjQuNlY2Ni40eiBNNDUuOCw4MS42DQoJCWMzLjMsMCw2LjctMC42LDEwLjMtMS44YzMuNi0xLjIsNi44LTMuNCw5LjUtNi40YzEuNi0xLjksMi44LTQsMy40LTYuNGMwLjYtMi40LDEtNS4zLDEtOC43di00LjJjLTIuOS0wLjctNi0xLjMtOS4yLTEuNw0KCQljLTMuMi0wLjQtNi4zLTAuNi05LjQtMC42Yy02LjcsMC0xMS42LDEuMy0xNC45LDRjLTMuMywyLjctNC45LDYuNS00LjksMTEuNWMwLDQuNywxLjIsOC4yLDMuNywxMC42DQoJCUMzNy43LDgwLjQsNDEuMiw4MS42LDQ1LjgsODEuNnogTTEyNi4xLDkyLjRjLTEuOCwwLTMtMC4zLTMuOC0xYy0wLjgtMC42LTEuNS0yLTIuMS0zLjlMOTYuNywxMC4yYy0wLjYtMi0wLjktMy4zLTAuOS00DQoJCWMwLTEuNiwwLjgtMi41LDIuNC0yLjVoOS44YzEuOSwwLDMuMiwwLjMsMy45LDFjMC44LDAuNiwxLjQsMiwyLDMuOWwxNi44LDY2LjJsMTUuNi02Ni4yYzAuNS0yLDEuMS0zLjMsMS45LTMuOWMwLjgtMC42LDIuMi0xLDQtMQ0KCQloOGMxLjksMCwzLjIsMC4zLDQsMWMwLjgsMC42LDEuNSwyLDEuOSwzLjlsMTUuOCw2N2wxNy4zLTY3YzAuNi0yLDEuMy0zLjMsMi0zLjljMC44LTAuNiwyLjEtMSwzLjktMWg5LjNjMS42LDAsMi41LDAuOCwyLjUsMi41DQoJCWMwLDAuNS0wLjEsMS0wLjIsMS42Yy0wLjEsMC42LTAuMywxLjQtMC43LDIuNWwtMjQuMSw3Ny4zYy0wLjYsMi0xLjMsMy4zLTIuMSwzLjljLTAuOCwwLjYtMi4xLDEtMy44LDFoLTguNmMtMS45LDAtMy4yLTAuMy00LTENCgkJYy0wLjgtMC43LTEuNS0yLTEuOS00TDE1NiwyM2wtMTUuNCw2NC40Yy0wLjUsMi0xLjEsMy4zLTEuOSw0Yy0wLjgsMC43LTIuMiwxLTQsMUgxMjYuMXogTTI1NC42LDk1LjFjLTUuMiwwLTEwLjQtMC42LTE1LjQtMS44DQoJCWMtNS0xLjItOC45LTIuNS0xMS41LTRjLTEuNi0wLjktMi43LTEuOS0zLjEtMi44Yy0wLjQtMC45LTAuNi0xLjktMC42LTIuOHYtNS4xYzAtMi4xLDAuOC0zLjEsMi4zLTMuMWMwLjYsMCwxLjIsMC4xLDEuOCwwLjMNCgkJYzAuNiwwLjIsMS41LDAuNiwyLjUsMWMzLjQsMS41LDcuMSwyLjcsMTEsMy41YzQsMC44LDcuOSwxLjIsMTEuOSwxLjJjNi4zLDAsMTEuMi0xLjEsMTQuNi0zLjNjMy40LTIuMiw1LjItNS40LDUuMi05LjUNCgkJYzAtMi44LTAuOS01LjEtMi43LTdjLTEuOC0xLjktNS4yLTMuNi0xMC4xLTUuMkwyNDYsNTJjLTcuMy0yLjMtMTIuNy01LjctMTYtMTAuMmMtMy4zLTQuNC01LTkuMy01LTE0LjVjMC00LjIsMC45LTcuOSwyLjctMTEuMQ0KCQljMS44LTMuMiw0LjItNiw3LjItOC4yYzMtMi4zLDYuNC00LDEwLjQtNS4yYzQtMS4yLDguMi0xLjcsMTIuNi0xLjdjMi4yLDAsNC41LDAuMSw2LjcsMC40YzIuMywwLjMsNC40LDAuNyw2LjUsMS4xDQoJCWMyLDAuNSwzLjksMSw1LjcsMS42YzEuOCwwLjYsMy4yLDEuMiw0LjIsMS44YzEuNCwwLjgsMi40LDEuNiwzLDIuNWMwLjYsMC44LDAuOSwxLjksMC45LDMuM3Y0LjdjMCwyLjEtMC44LDMuMi0yLjMsMy4yDQoJCWMtMC44LDAtMi4xLTAuNC0zLjgtMS4yYy01LjctMi42LTEyLjEtMy45LTE5LjItMy45Yy01LjcsMC0xMC4yLDAuOS0xMy4zLDIuOGMtMy4xLDEuOS00LjcsNC44LTQuNyw4LjljMCwyLjgsMSw1LjIsMyw3LjENCgkJYzIsMS45LDUuNywzLjgsMTEsNS41bDE0LjIsNC41YzcuMiwyLjMsMTIuNCw1LjUsMTUuNSw5LjZjMy4xLDQuMSw0LjYsOC44LDQuNiwxNGMwLDQuMy0wLjksOC4yLTIuNiwxMS42DQoJCWMtMS44LDMuNC00LjIsNi40LTcuMyw4LjhjLTMuMSwyLjUtNi44LDQuMy0xMS4xLDUuNkMyNjQuNCw5NC40LDI1OS43LDk1LjEsMjU0LjYsOTUuMXoiLz4NCgk8Zz4NCgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTI3My41LDE0My43Yy0zMi45LDI0LjMtODAuNywzNy4yLTEyMS44LDM3LjJjLTU3LjYsMC0xMDkuNS0yMS4zLTE0OC43LTU2LjdjLTMuMS0yLjgtMC4zLTYuNiwzLjQtNC40DQoJCQljNDIuNCwyNC42LDk0LjcsMzkuNSwxNDguOCwzOS41YzM2LjUsMCw3Ni42LTcuNiwxMTMuNS0yMy4yQzI3NC4yLDEzMy42LDI3OC45LDEzOS43LDI3My41LDE0My43eiIvPg0KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjg3LjIsMTI4LjFjLTQuMi01LjQtMjcuOC0yLjYtMzguNS0xLjNjLTMuMiwwLjQtMy43LTIuNC0wLjgtNC41YzE4LjgtMTMuMiw0OS43LTkuNCw1My4zLTUNCgkJCWMzLjYsNC41LTEsMzUuNC0xOC42LDUwLjJjLTIuNywyLjMtNS4zLDEuMS00LjEtMS45QzI4Mi41LDE1NS43LDI5MS40LDEzMy40LDI4Ny4yLDEyOC4xeiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K&amp;logoColor=white" alt="AWS badge" style=vertical-align:middle;margin-right:4px>
<span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/azure/ data-taxonomy-term=azure><img src="https://img.shields.io/badge/Azure-white.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDk2IDk2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM%2BCiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJlMzk5YzE5Zi1iNjhmLTQyOWQtYjE3Ni0xOGMyMTE3ZmY3M2MiIHgxPSItMTAzMi4xNzIiIHgyPSItMTA1OS4yMTMiIHkxPSIxNDUuMzEyIiB5Mj0iNjUuNDI2IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDEwNzUgMTU4KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMxMTRhOGIiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDY2OWJjIi8%2BCiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImFjMmE2ZmMyLWNhNDgtNDMyNy05YTNjLWQ0ZGNjMzI1NmUxNSIgeDE9Ii0xMDIzLjcyNSIgeDI9Ii0xMDI5Ljk4IiB5MT0iMTA4LjA4MyIgeTI9IjEwNS45NjgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMTA3NSAxNTgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI%2BCiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1vcGFjaXR5PSIuMyIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9Ii4wNzEiIHN0b3Atb3BhY2l0eT0iLjIiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIuMzIxIiBzdG9wLW9wYWNpdHk9Ii4xIi8%2BCiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iLjYyMyIgc3RvcC1vcGFjaXR5PSIuMDUiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLW9wYWNpdHk9IjAiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYTdmZWU5NzAtYTc4NC00YmIxLWFmOGQtNjNkMThlNWY3ZGI5IiB4MT0iLTEwMjcuMTY1IiB4Mj0iLTk5Ny40ODIiIHkxPSIxNDcuNjQyIiB5Mj0iNjguNTYxIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDEwNzUgMTU4KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMzY2NiZjQiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMjg5MmRmIi8%2BCiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxwYXRoIGZpbGw9InVybCgjZTM5OWMxOWYtYjY4Zi00MjlkLWIxNzYtMThjMjExN2ZmNzNjKSIgZD0iTTMzLjMzOCA2LjU0NGgyNi4wMzhsLTI3LjAzIDgwLjA4N2E0LjE1MiA0LjE1MiAwIDAgMS0zLjkzMyAyLjgyNEg4LjE0OWE0LjE0NSA0LjE0NSAwIDAgMS0zLjkyOC01LjQ3TDI5LjQwNCA5LjM2OGE0LjE1MiA0LjE1MiAwIDAgMSAzLjkzNC0yLjgyNXoiLz4KICAgIDxwYXRoIGZpbGw9IiMwMDc4ZDQiIGQ9Ik03MS4xNzUgNjAuMjYxaC00MS4yOWExLjkxMSAxLjkxMSAwIDAgMC0xLjMwNSAzLjMwOWwyNi41MzIgMjQuNzY0YTQuMTcxIDQuMTcxIDAgMCAwIDIuODQ2IDEuMTIxaDIzLjM4eiIvPgogICAgPHBhdGggZmlsbD0idXJsKCNhYzJhNmZjMi1jYTQ4LTQzMjctOWEzYy1kNGRjYzMyNTZlMTUpIiBkPSJNMzMuMzM4IDYuNTQ0YTQuMTE4IDQuMTE4IDAgMCAwLTMuOTQzIDIuODc5TDQuMjUyIDgzLjkxN2E0LjE0IDQuMTQgMCAwIDAgMy45MDggNS41MzhoMjAuNzg3YTQuNDQzIDQuNDQzIDAgMCAwIDMuNDEtMi45bDUuMDE0LTE0Ljc3NyAxNy45MSAxNi43MDVhNC4yMzcgNC4yMzcgMCAwIDAgMi42NjYuOTcySDgxLjI0TDcxLjAyNCA2MC4yNjFsLTI5Ljc4MS4wMDdMNTkuNDcgNi41NDR6Ii8%2BCiAgICA8cGF0aCBmaWxsPSJ1cmwoI2E3ZmVlOTcwLWE3ODQtNGJiMS1hZjhkLTYzZDE4ZTVmN2RiOSkiIGQ9Ik02Ni41OTUgOS4zNjRhNC4xNDUgNC4xNDUgMCAwIDAtMy45MjgtMi44MkgzMy42NDhhNC4xNDYgNC4xNDYgMCAwIDEgMy45MjggMi44MmwyNS4xODQgNzQuNjJhNC4xNDYgNC4xNDYgMCAwIDEtMy45MjggNS40NzJoMjkuMDJhNC4xNDYgNC4xNDYgMCAwIDAgMy45MjctNS40NzJ6Ii8%2BCjwvc3ZnPg%3D%3D&amp;logoColor=white" alt="Azure badge" style=vertical-align:middle;margin-right:4px>
<span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/gcp/ data-taxonomy-term=gcp><img src="https://img.shields.io/badge/GCP-white.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgLTI1IDI1NiAyNTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgoJCTxnPgoJCQkJPHBhdGggZD0iTTE3MC4yNTE3LDU2LjgxODYgTDE5Mi41MDQ3LDM0LjU2NTYgTDE5My45ODc3LDI1LjE5NTYgQzE1My40MzY3LC0xMS42Nzc0IDg4Ljk3NTcsLTcuNDk2NCA1Mi40MjA3LDMzLjkxOTYgQzQyLjI2NjcsNDUuNDIyNiAzNC43MzM3LDU5Ljc2MzYgMzAuNzE2Nyw3NC41NzI2IEwzOC42ODY3LDczLjQ0OTYgTDgzLjE5MTcsNjYuMTEwNiBMODYuNjI3Nyw2Mi41OTY2IEMxMDYuNDI0Nyw0MC44NTQ2IDEzOS44OTc3LDM3LjkyOTYgMTYyLjc1NTcsNTYuNDI4NiBMMTcwLjI1MTcsNTYuODE4NiBaIiBmaWxsPSIjRUE0MzM1Ij4KDTwvcGF0aD4KCQkJCTxwYXRoIGQ9Ik0yMjQuMjA0OCw3My45MTgyIEMyMTkuMDg5OCw1NS4wODIyIDIwOC41ODg4LDM4LjE0OTIgMTkzLjk4NzgsMjUuMTk2MiBMMTYyLjc1NTgsNTYuNDI4MiBDMTc1Ljk0MzgsNjcuMjA0MiAxODMuNDU2OCw4My40MzgyIDE4My4xMzQ4LDEwMC40NjUyIEwxODMuMTM0OCwxMDYuMDA5MiBDMTk4LjQ4NTgsMTA2LjAwOTIgMjEwLjkzMTgsMTE4LjQ1NDIgMjEwLjkzMTgsMTMzLjgwNTIgQzIxMC45MzE4LDE0OS4xNTcyIDE5OC40ODU4LDE2MS4yOTAyIDE4My4xMzQ4LDE2MS4yOTAyIEwxMjcuNDYzOCwxNjEuMjkwMiBMMTIxLjk5NzgsMTY3LjIyNDIgTDEyMS45OTc4LDIwMC41NjQyIEwxMjcuNDYzOCwyMDUuNzk1MiBMMTgzLjEzNDgsMjA1Ljc5NTIgQzIyMy4wNjQ4LDIwNi4xMDYyIDI1NS42ODY4LDE3NC4zMDEyIDI1NS45OTc4LDEzNC4zNzEyIEMyNTYuMTg1OCwxMTAuMTY4MiAyNDQuMjUyOCw4Ny40NzgyIDIyNC4yMDQ4LDczLjkxODIiIGZpbGw9IiM0Mjg1RjQiPgoNPC9wYXRoPgoJCQkJPHBhdGggZD0iTTcxLjg3MDQsMjA1Ljc5NTcgTDEyNy40NjM0LDIwNS43OTU3IEwxMjcuNDYzNCwxNjEuMjg5NyBMNzEuODcwNCwxNjEuMjg5NyBDNjcuOTA5NCwxNjEuMjg4NyA2NC4wNzM0LDE2MC40Mzc3IDYwLjQ3MTQsMTU4Ljc5MTcgTDUyLjU4NDQsMTYxLjIxMTcgTDMwLjE3NTQsMTgzLjQ2NDcgTDI4LjIyMzQsMTkxLjAzODcgQzQwLjc5MDQsMjAwLjUyNzcgNTYuMTIzNCwyMDUuODYzNyA3MS44NzA0LDIwNS43OTU3IiBmaWxsPSIjMzRBODUzIj4KDTwvcGF0aD4KCQkJCTxwYXRoIGQ9Ik03MS44NzA0LDYxLjQyNTUgQzMxLjkzOTQsNjEuNjYzNSAtMC4yMzY2LDk0LjIyNzUgMC4wMDE0LDEzNC4xNTc1IEMwLjEzNDQsMTU2LjQ1NTUgMTAuNTQ4NCwxNzcuNDQ1NSAyOC4yMjM0LDE5MS4wMzg1IEw2MC40NzE0LDE1OC43OTE1IEM0Ni40ODA0LDE1Mi40NzA1IDQwLjI2MzQsMTM2LjAwNTUgNDYuNTg0NCwxMjIuMDE1NSBDNTIuOTA0NCwxMDguMDI1NSA2OS4zNzA0LDEwMS44MDg1IDgzLjM1OTQsMTA4LjEyODUgQzg5LjUyNDQsMTEwLjkxMzUgOTQuNDYxNCwxMTUuODUxNSA5Ny4yNDY0LDEyMi4wMTU1IEwxMjkuNDk0NCw4OS43Njg1IEMxMTUuNzczNCw3MS44MzE1IDk0LjQ1MzQsNjEuMzQ0NSA3MS44NzA0LDYxLjQyNTUiIGZpbGw9IiNGQkJDMDUiPgoNPC9wYXRoPgoJCTwvZz4KPC9zdmc%2B&amp;logoColor=white" alt="GCP badge" style=vertical-align:middle;margin-right:4px>
<span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/github/ data-taxonomy-term=github><img src="https://img.shields.io/badge/Github-181717.svg?logo=github&amp;logoColor=white" alt="Github badge" style=vertical-align:middle;margin-right:4px>
<span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/terraform/ data-taxonomy-term=terraform><img src="https://img.shields.io/badge/Terraform-5835CC.svg?logo=terraform&amp;logoColor=white" alt="Terraform badge" style=vertical-align:middle;margin-right:4px>
<span class=taxonomy-count>4</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Categories</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/data-ingestion/ data-taxonomy-term=data-ingestion><span class=taxonomy-label>Data Ingestion</span>
<span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/data-lake/ data-taxonomy-term=data-lake><span class=taxonomy-label>Data Lake</span>
<span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/new-account/ data-taxonomy-term=new-account><span class=taxonomy-label>New Account</span>
<span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/openid-connect/ data-taxonomy-term=openid-connect><span class=taxonomy-label>OpenID Connect</span>
<span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/setup/ data-taxonomy-term=setup><span class=taxonomy-label>Setup</span>
<span class=taxonomy-count>15</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs_blog/docs/>Docs</a></li><li class=breadcrumb-item><a href=/docs_blog/docs/cloud_setup/>Cloud Setup</a></li><li class=breadcrumb-item><a href=/docs_blog/docs/cloud_setup/azure/>Microsoft Azure</a></li><li class="breadcrumb-item active" aria-current=page>Terraform Backend</li></ol></nav><div class=td-content><h1>Terraform Backend</h1><div class=lead>Azure - Optional Configurations When Not Using Terraform.io Workspace Backends.</div><header class=article-meta><div class="taxonomy taxonomy-terms-badge taxo-tags"><h5 class=taxonomy-title>Tags:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/azure/ data-taxonomy-term=azure><img src="https://img.shields.io/badge/Azure-white.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDk2IDk2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM%2BCiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJlMzk5YzE5Zi1iNjhmLTQyOWQtYjE3Ni0xOGMyMTE3ZmY3M2MiIHgxPSItMTAzMi4xNzIiIHgyPSItMTA1OS4yMTMiIHkxPSIxNDUuMzEyIiB5Mj0iNjUuNDI2IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDEwNzUgMTU4KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMxMTRhOGIiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDY2OWJjIi8%2BCiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImFjMmE2ZmMyLWNhNDgtNDMyNy05YTNjLWQ0ZGNjMzI1NmUxNSIgeDE9Ii0xMDIzLjcyNSIgeDI9Ii0xMDI5Ljk4IiB5MT0iMTA4LjA4MyIgeTI9IjEwNS45NjgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMTA3NSAxNTgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI%2BCiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1vcGFjaXR5PSIuMyIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9Ii4wNzEiIHN0b3Atb3BhY2l0eT0iLjIiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIuMzIxIiBzdG9wLW9wYWNpdHk9Ii4xIi8%2BCiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iLjYyMyIgc3RvcC1vcGFjaXR5PSIuMDUiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLW9wYWNpdHk9IjAiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYTdmZWU5NzAtYTc4NC00YmIxLWFmOGQtNjNkMThlNWY3ZGI5IiB4MT0iLTEwMjcuMTY1IiB4Mj0iLTk5Ny40ODIiIHkxPSIxNDcuNjQyIiB5Mj0iNjguNTYxIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDEwNzUgMTU4KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMzY2NiZjQiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMjg5MmRmIi8%2BCiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxwYXRoIGZpbGw9InVybCgjZTM5OWMxOWYtYjY4Zi00MjlkLWIxNzYtMThjMjExN2ZmNzNjKSIgZD0iTTMzLjMzOCA2LjU0NGgyNi4wMzhsLTI3LjAzIDgwLjA4N2E0LjE1MiA0LjE1MiAwIDAgMS0zLjkzMyAyLjgyNEg4LjE0OWE0LjE0NSA0LjE0NSAwIDAgMS0zLjkyOC01LjQ3TDI5LjQwNCA5LjM2OGE0LjE1MiA0LjE1MiAwIDAgMSAzLjkzNC0yLjgyNXoiLz4KICAgIDxwYXRoIGZpbGw9IiMwMDc4ZDQiIGQ9Ik03MS4xNzUgNjAuMjYxaC00MS4yOWExLjkxMSAxLjkxMSAwIDAgMC0xLjMwNSAzLjMwOWwyNi41MzIgMjQuNzY0YTQuMTcxIDQuMTcxIDAgMCAwIDIuODQ2IDEuMTIxaDIzLjM4eiIvPgogICAgPHBhdGggZmlsbD0idXJsKCNhYzJhNmZjMi1jYTQ4LTQzMjctOWEzYy1kNGRjYzMyNTZlMTUpIiBkPSJNMzMuMzM4IDYuNTQ0YTQuMTE4IDQuMTE4IDAgMCAwLTMuOTQzIDIuODc5TDQuMjUyIDgzLjkxN2E0LjE0IDQuMTQgMCAwIDAgMy45MDggNS41MzhoMjAuNzg3YTQuNDQzIDQuNDQzIDAgMCAwIDMuNDEtMi45bDUuMDE0LTE0Ljc3NyAxNy45MSAxNi43MDVhNC4yMzcgNC4yMzcgMCAwIDAgMi42NjYuOTcySDgxLjI0TDcxLjAyNCA2MC4yNjFsLTI5Ljc4MS4wMDdMNTkuNDcgNi41NDR6Ii8%2BCiAgICA8cGF0aCBmaWxsPSJ1cmwoI2E3ZmVlOTcwLWE3ODQtNGJiMS1hZjhkLTYzZDE4ZTVmN2RiOSkiIGQ9Ik02Ni41OTUgOS4zNjRhNC4xNDUgNC4xNDUgMCAwIDAtMy45MjgtMi44MkgzMy42NDhhNC4xNDYgNC4xNDYgMCAwIDEgMy45MjggMi44MmwyNS4xODQgNzQuNjJhNC4xNDYgNC4xNDYgMCAwIDEtMy45MjggNS40NzJoMjkuMDJhNC4xNDYgNC4xNDYgMCAwIDAgMy45MjctNS40NzJ6Ii8%2BCjwvc3ZnPg%3D%3D&amp;logoColor=white" alt="Azure badge" style=vertical-align:middle></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/terraform/ data-taxonomy-term=terraform><img src="https://img.shields.io/badge/Terraform-5835CC.svg?logo=terraform&amp;logoColor=white" alt="Terraform badge" style=vertical-align:middle></a></li></ul></div><div class="taxonomy taxonomy-terms-badge taxo-categories"><h5 class=taxonomy-title>Categories:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/setup/ data-taxonomy-term=Setup>Setup</a></li></ul></div></header><h1 id=terraform-backend-with-azure>Terraform Backend with Azure<a class=td-heading-self-link href=#terraform-backend-with-azure aria-label="Heading self-link"></a></h1><p>Using Azure as the backend for Terraform state is a robust and versatile option for managing infrastructure as code. By storing Terraform state in an Azure Blob Storage container, teams can leverage Azure&rsquo;s comprehensive security features, including encryption at rest and in transit, access controls via Azure Active Directory (Azure AD) and Role-Based Access Control (RBAC), and versioning capabilities. Azure Blob Storage offers a highly durable and available storage solution, ensuring that Terraform state is consistently accessible and protected. Furthermore, using Azure for the backend allows teams to utilize Azure AD for fine-grained control over who can read and write to the state file and manage state locking. This setup also integrates well with other Azure services like Azure Functions and Azure Monitor, enabling automation and monitoring of Terraform workflows for a seamless infrastructure management experience.</p><h2 id=cli-steps>CLI Steps<a class=td-heading-self-link href=#cli-steps aria-label="Heading self-link"></a></h2><ul class="nav nav-tabs justify-content-end" id=tabs-0 role=tablist><li class=nav-item><button class="nav-link disabled" id=tabs-00-00-tab data-bs-toggle=tab data-bs-target=#tabs-00-00 role=tab aria-controls=tabs-00-00 aria-selected=false>
<strong>Examples</strong>:</button></li><li class=nav-item><button class="nav-link active" id=tabs-00-01-tab data-bs-toggle=tab data-bs-target=#tabs-00-01 role=tab data-td-tp-persist=shell aria-controls=tabs-00-01 aria-selected=true>
<span style=vertical-align:middle><img src="data:image/svg+xml,%3Csvg%20height=%221024%22%20width=%22896%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath%20d=%22M831%20127H63c-35.35.0-64%2028.65-64%2064v640c0%2035.35%2028.65%2064%2064%2064h768c35.35.0%2064-28.65%2064-64V191c0-35.35-28.65-64-64-64zM127%20575l128-128L127%20319l64-64%20192%20192L191%20639l-64-64zm512%2064H383v-64h256v64z%22/%3E%3C/svg%3E" alt="CLI (Create) icon" style=height:1.5em;vertical-align:middle;margin-right:.3em></span>
CLI (Create)</button></li><li class=nav-item><button class=nav-link id=tabs-00-02-tab data-bs-toggle=tab data-bs-target=#tabs-00-02 role=tab aria-controls=tabs-00-02 aria-selected=false>
<span style=vertical-align:middle><img src="data:image/svg+xml,%3Csvg%20height=%221024%22%20width=%22896%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath%20d=%22M831%20127H63c-35.35.0-64%2028.65-64%2064v640c0%2035.35%2028.65%2064%2064%2064h768c35.35.0%2064-28.65%2064-64V191c0-35.35-28.65-64-64-64zM127%20575l128-128L127%20319l64-64%20192%20192L191%20639l-64-64zm512%2064H383v-64h256v64z%22/%3E%3C/svg%3E" alt="CLI (Destroy) icon" style=height:1.5em;vertical-align:middle;margin-right:.3em></span>
CLI (Destroy)</button></li></ul><div class=tab-content id=tabs-0-content><div class="tab-pane fade" id=tabs-00-00 role=tabpanel aria-labelled-by=tabs-00-00-tab tabindex=0><pre tabindex=0><code></code></pre></div><div class="tab-pane fade show active" id=tabs-00-01 role=tabpanel aria-labelled-by=tabs-00-01-tab tabindex=0><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell><span style=display:flex><span>mkdir -p ~/development/test/example_azure_tf_backend
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> ~/development/test/example_azure_tf_backend
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Setting</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>AZURE_LOCATION</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;eastus&#34;</span> <span style=color:#8f5902;font-style:italic># Choose your desired Azure region</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>AZURE_CLIENT_ID</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span>az identity list <span style=color:#000;font-weight:700>|</span> head -n 1<span style=color:#204a87;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>RAND_SUFFIX</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span>openssl rand -hex 4<span style=color:#204a87;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>AZURE_RESOURCE_GROUP_NAME</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;rg-tfstate-</span><span style=color:#4e9a06>${</span><span style=color:#000>RAND_SUFFIX</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Azure Storage Account names must be 3-24 characters, lowercase letters and numbers, and globally unique.</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>AZURE_STORAGE_ACCOUNT_NAME</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span><span style=color:#204a87>echo</span> <span style=color:#4e9a06>&#34;tfstate-</span><span style=color:#4e9a06>${</span><span style=color:#000>RAND_SUFFIX</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span> <span style=color:#000;font-weight:700>|</span> tr <span style=color:#4e9a06>&#39;[:upper:]&#39;</span> <span style=color:#4e9a06>&#39;[:lower:]&#39;</span> <span style=color:#000;font-weight:700>|</span> sed <span style=color:#4e9a06>&#39;s/[^a-z0-9]//g&#39;</span> <span style=color:#000;font-weight:700>|</span> cut -c1-24<span style=color:#204a87;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>AZURE_STORAGE_CONTAINER_NAME</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;tfstate&#34;</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>TF_STATE_KEY</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;sandbox/terraform.tfstate&#34;</span> <span style=color:#8f5902;font-style:italic># Path for the Terraform state file in the container</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Login to Azure</span>
</span></span><span style=display:flex><span>az login --identity --client-id <span style=color:#000>$AZURE_CLIENT_ID</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Get Subscription and Tenant IDs for Terraform configuration</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>AZURE_SUBSCRIPTION_ID_FOR_TF</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span>az account show --query id -o tsv<span style=color:#204a87;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>AZURE_TENANT_ID_FOR_TF</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span>az account show --query tenantId -o tsv<span style=color:#204a87;font-weight:700>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Create a Resource Group for the Terraform backend</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># https://docs.microsoft.com/en-us/cli/azure/group?view=azure-cli-latest#az_group_create</span>
</span></span><span style=display:flex><span>az group create <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --name <span style=color:#4e9a06>&#34;</span><span style=color:#000>$AZURE_RESOURCE_GROUP_NAME</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --location <span style=color:#4e9a06>&#34;</span><span style=color:#000>$AZURE_LOCATION</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>az configure --defaults <span style=color:#000>group</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$AZURE_RESOURCE_GROUP_NAME</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Create a Storage Account for Terraform State</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># https://docs.microsoft.com/en-us/cli/azure/storage/account?view=azure-cli-latest#az_storage_account_create</span>
</span></span><span style=display:flex><span>az storage account create <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --name <span style=color:#4e9a06>&#34;</span><span style=color:#000>$AZURE_STORAGE_ACCOUNT_NAME</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --resource-group <span style=color:#4e9a06>&#34;</span><span style=color:#000>$AZURE_RESOURCE_GROUP_NAME</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --location <span style=color:#4e9a06>&#34;</span><span style=color:#000>$AZURE_LOCATION</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --sku Standard_LRS <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --kind StorageV2 <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --encryption-services blob <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --allow-blob-public-access <span style=color:#204a87>false</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Create a Blob Container for Terraform State</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># https://docs.microsoft.com/en-us/cli/azure/storage/container?view=azure-cli-latest#az_storage_container_create</span>
</span></span><span style=display:flex><span>az storage container create <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --name <span style=color:#4e9a06>&#34;</span><span style=color:#000>$AZURE_STORAGE_CONTAINER_NAME</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --account-name <span style=color:#4e9a06>&#34;</span><span style=color:#000>$AZURE_STORAGE_ACCOUNT_NAME</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Get the Object ID (Principal ID) of the managed identity&#39;s service principal using its Client ID.</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>MANAGED_IDENTITY_OBJECT_ID</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span>az ad sp show --id <span style=color:#4e9a06>&#34;</span><span style=color:#000>$AZURE_CLIENT_ID</span><span style=color:#4e9a06>&#34;</span> --query <span style=color:#4e9a06>&#34;id&#34;</span> -o tsv<span style=color:#204a87;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># AZURE_SUBSCRIPTION_ID_FOR_TF is already set and can be used for the scope.</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>CONTAINER_SCOPE</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/subscriptions/</span><span style=color:#000>$AZURE_SUBSCRIPTION_ID_FOR_TF</span><span style=color:#4e9a06>/resourceGroups/</span><span style=color:#000>$AZURE_RESOURCE_GROUP_NAME</span><span style=color:#4e9a06>/providers/Microsoft.Storage/storageAccounts/</span><span style=color:#000>$AZURE_STORAGE_ACCOUNT_NAME</span><span style=color:#4e9a06>/blobServices/default/containers/</span><span style=color:#000>$AZURE_STORAGE_CONTAINER_NAME</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>az role assignment create <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --role <span style=color:#4e9a06>&#34;Storage Blob Data Contributor&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --assignee-object-id <span style=color:#4e9a06>&#34;</span><span style=color:#000>$MANAGED_IDENTITY_OBJECT_ID</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --assignee-principal-type ServicePrincipal <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>    --scope <span style=color:#4e9a06>&#34;</span><span style=color:#000>$CONTAINER_SCOPE</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Role assignment may take a moment to propagate. Wait for 30 seconds before continuing.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Configure Terraform</span>
</span></span><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOT &gt; backend.conf
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>resource_group_name  = &#34;$AZURE_RESOURCE_GROUP_NAME&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>storage_account_name = &#34;$AZURE_STORAGE_ACCOUNT_NAME&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>container_name       = &#34;$AZURE_STORAGE_CONTAINER_NAME&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>key                  = &#34;$TF_STATE_KEY&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>use_azuread_auth     = true # Authenticate using Azure Active Directory.
</span></span></span><span style=display:flex><span><span style=color:#4e9a06># Explicitly use the managed identity (whose client ID is in $AZURE_CLIENT_ID)
</span></span></span><span style=display:flex><span><span style=color:#4e9a06># for backend authentication. The `az login --identity` command sets the CLI context,
</span></span></span><span style=display:flex><span><span style=color:#4e9a06># and these details ensure Terraform uses that specific identity for the backend.
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>client_id            = &#34;$AZURE_CLIENT_ID&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>subscription_id      = &#34;$AZURE_SUBSCRIPTION_ID_FOR_TF&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>tenant_id            = &#34;$AZURE_TENANT_ID_FOR_TF&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOT</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOT &gt; terraform.tfvars
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>azure_subscription_id            = &#34;$AZURE_SUBSCRIPTION_ID_FOR_TF&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>azure_tenant_id                  = &#34;$AZURE_TENANT_ID_FOR_TF&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>user_assigned_identity_client_id = &#34;$AZURE_CLIENT_ID&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06># azure_location                 = &#34;$AZURE_LOCATION&#34; # Example if you have a location variable
</span></span></span><span style=display:flex><span><span style=color:#4e9a06># You can define variables for your Azure resources here if needed.
</span></span></span><span style=display:flex><span><span style=color:#4e9a06># For example, if your main.tf creates resources in a specific location:
</span></span></span><span style=display:flex><span><span style=color:#4e9a06># location = &#34;East US&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOT</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOT &gt; variables.tf
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>variable &#34;user_assigned_identity_client_id&#34; {
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  type        = string
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  description = &#34;Client ID of the User-Assigned Managed Identity to use for authentication by the provider.&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>}
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>variable &#34;azure_subscription_id&#34; {
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  type        = string
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  description = &#34;Azure Subscription ID to be used by the Azure provider.&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>}
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>variable &#34;azure_tenant_id&#34; {
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  type        = string
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  description = &#34;Azure Tenant ID to be used by the Azure provider.&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>}
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06># variable &#34;azure_location&#34; {
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>#   type        = string
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>#   description = &#34;The Azure region where resources will be deployed.&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>#   default     = &#34;East US&#34;
</span></span></span><span style=display:flex><span><span style=color:#4e9a06># }
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOT</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>cat <span style=color:#4e9a06>&lt;&lt;EOT &gt; main.tf
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>/* Azure Blob Storage managed terraform state - configurations in backend.conf */
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>terraform {
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  backend &#34;azurerm&#34; {
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    // Backend configuration is provided via the backend.conf file
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>    // during `terraform init -backend-config=backend.conf`
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  }
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>}
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>provider &#34;azurerm&#34; {
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  features {}
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  # Explicitly configure the provider to use the User-Assigned Managed Identity.
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  # The values are supplied through terraform.tfvars (sourced from script variables).
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  # This ensures Terraform uses the specified managed identity for managing Azure resources.
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  use_msi         = true
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  client_id       = var.user_assigned_identity_client_id
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  subscription_id = var.azure_subscription_id
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  tenant_id       = var.azure_tenant_id
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>}
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06># Example: Add a data source to verify provider configuration
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>data &#34;azurerm_subscription&#34; &#34;current&#34; {}
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>output &#34;current_azure_subscription_display_name&#34; {
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>  value = data.azurerm_subscription.current.display_name
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>}
</span></span></span><span style=display:flex><span><span style=color:#4e9a06>EOT</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Test Terraform</span>
</span></span><span style=display:flex><span>terraform init -backend-config<span style=color:#ce5c00;font-weight:700>=</span>backend.conf
</span></span><span style=display:flex><span>terraform plan
</span></span><span style=display:flex><span>terraform apply --auto-approve
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-00-02 role=tabpanel aria-labelled-by=tabs-00-02-tab tabindex=0><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Ensure environment variables are set from the Create step</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Tear Down Terraform</span>
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> ~/development/test/example_azure_tf_backend <span style=color:#8f5902;font-style:italic># Ensure you are in the correct directory</span>
</span></span><span style=display:flex><span>terraform destroy --auto-approve
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Remove the Azure Resource Group containing the Storage Account and Container</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># This will delete all resources created by this script for the backend.</span>
</span></span><span style=display:flex><span>az group delete <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --name <span style=color:#4e9a06>&#34;</span><span style=color:#000>$AZURE_RESOURCE_GROUP_NAME</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --yes <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --no-wait <span style=color:#8f5902;font-style:italic># Use --no-wait to run in background, or remove for synchronous deletion</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div></div><h2 id=console-steps>Console Steps<a class=td-heading-self-link href=#console-steps aria-label="Heading self-link"></a></h2><p>This section outlines how to set up the Azure backend for Terraform using the Azure portal. You will need to manually create the necessary Azure resources and then configure your Terraform files.</p><h3 id=create-azure-resources>Create Azure Resources<a class=td-heading-self-link href=#create-azure-resources aria-label="Heading self-link"></a></h3><p>You&rsquo;ll need to create the following resources in the Azure portal. Make sure to note down their names and other relevant properties (like location) as you create them.</p><ul><li><strong>Resource Group:</strong> A container that holds related resources for an Azure solution.<ul><li><a href=https://learn.microsoft.com/azure/azure-resource-manager/management/manage-resource-groups-portal>Learn how to create a Resource Group in the Azure portal</a></li></ul></li><li><strong>Storage Account:</strong> To store your Terraform state file.<ul><li>When creating a <a href="https://learn.microsoft.com/en-us/azure/storage/common/storage-account-create?tabs=azure-portal">Storage Account</a>, ensure you configure it appropriately for a Terraform backend (e.g., Account kind: <code>StorageV2</code>, Performance: <code>Standard</code>, Replication: <code>Locally-redundant storage (LRS)</code>). It&rsquo;s also recommended to disable public blob access for security. Add a Storage Container for the state file.</li></ul></li></ul><h3 id=configure-managed-identity-and-permissions>Configure Managed Identity and Permissions<a class=td-heading-self-link href=#configure-managed-identity-and-permissions aria-label="Heading self-link"></a></h3><p>Terraform will authenticate to Azure using a User-Assigned Managed Identity.</p><ul><li><strong>Assign &lsquo;Storage Blob Data Contributor&rsquo; Role:</strong> <a href="(https://learn.microsoft.com/en-us/entra/identity/managed-identities-azure-resources/how-manage-user-assigned-managed-identities?pivots=identity-mi-methods-azp#create-a-user-assigned-managed-identity)">Grant the Managed Identity</a> the necessary permissions to read and write to the blob container by assigning the <code>Storage Blob Data Contributor</code> role to your User-Assigned Managed Identity.</li></ul><h3 id=configure-terraform-files>Configure Terraform Files<a class=td-heading-self-link href=#configure-terraform-files aria-label="Heading self-link"></a></h3><p>After setting up the Azure resources and permissions, you need to create the following <a href=https://developer.hashicorp.com/terraform/language/backend/azurerm>Terraform Backend Configuration</a> <code>backend.conf</code> with the actual values you obtained from the Azure portal.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=display:flex><span><span style=color:#000>resource_group_name</span>  <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;YOUR_RESOURCE_GROUP_NAME&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>storage_account_name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;YOUR_STORAGE_ACCOUNT_NAME&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>container_name</span>       <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;YOUR_CONTAINER_NAME&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>key</span>                  <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;sandbox/terraform.tfstate&#34;</span><span style=color:#8f5902;font-style:italic> # Or your desired state file path in the container
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>use_azuread_auth</span>     <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span>
</span></span><span style=display:flex><span><span style=color:#000>client_id</span>            <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;YOUR_MANAGED_IDENTITY_CLIENT_ID&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>subscription_id</span>      <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;YOUR_AZURE_SUBSCRIPTION_ID&#34;</span>
</span></span><span style=display:flex><span><span style=color:#000>tenant_id</span>            <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;YOUR_AZURE_TENANT_ID&#34;</span>
</span></span></code></pre></div><p>Once the Azure resources are ready and your Terraform files are configured with the correct values, navigate to your Terraform project directory in your terminal and run:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>terraform init -backend-config<span style=color:#ce5c00;font-weight:700>=</span>backend.conf
</span></span><span style=display:flex><span>terraform plan
</span></span><span style=display:flex><span>terraform apply --auto-approve
</span></span></code></pre></div><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/USERNAME/REPOSITORY/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/USERNAME/REPOSITORY/issues/new>tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof gtag!="function")return;gtag("event","page_helpful",{event_category:"Helpful",event_label:window.location.pathname,value:e})};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(100)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class=td-page-meta__lastmod>Last modified September 3, 2025: <a href=https://github.com/google/docsy-example/commit/adb2e6114548e775e80d3ae51c823b61ea6de771>Initial Commit (adb2e61)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://example.org/twitter aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://example.org/stack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/google/docsy aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2018&ndash;2025
<span class=td-footer__authors>Docsy Authors | <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/docs_blog/js/main.min.115f19af160d1221e5d7ad0bb0ea2960832ce0857063f349661781f47be40740.js integrity="sha256-EV8ZrxYNEiHl160LsOopYIMs4IVwY/NJZheB9HvkB0A=" crossorigin=anonymous></script>
<script defer src=/docs_blog/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script>
<script src=/docs_blog/js/tabpane-persist.js></script></body></html>