<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/docs_blog/favicons/favicon.ico><link rel=apple-touch-icon href=/docs_blog/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/docs_blog/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/docs_blog/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/docs_blog/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/docs_blog/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/docs_blog/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/docs_blog/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/docs_blog/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/docs_blog/favicons/android-192x192.png sizes=192x192><title>OpenID Connect | OpenVERS</title><meta name=description content="GCP - Modernized Security for GitOps & CI/CD with GitHub Actions using Workload Identity Federation.
"><meta property="og:title" content="OpenID Connect"><meta property="og:description" content="GCP - Modernized Security for GitOps & CI/CD with GitHub Actions using Workload Identity Federation.
"><meta property="og:type" content="article"><meta property="og:url" content="https://openvers.github.io/docs_blog/docs/cloud_setup/gcp/openid_connect/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2024-11-03T00:00:00+00:00"><meta property="article:modified_time" content="2025-09-03T12:11:30-04:00"><meta property="og:site_name" content="OpenVERS"><meta itemprop=name content="OpenID Connect"><meta itemprop=description content="GCP - Modernized Security for GitOps & CI/CD with GitHub Actions using Workload Identity Federation.
"><meta itemprop=datePublished content="2024-11-03T00:00:00+00:00"><meta itemprop=dateModified content="2025-09-03T12:11:30-04:00"><meta itemprop=wordCount content="902"><meta itemprop=keywords content="GCP,GitHub,"><meta name=twitter:card content="summary"><meta name=twitter:title content="OpenID Connect"><meta name=twitter:description content="GCP - Modernized Security for GitOps & CI/CD with GitHub Actions using Workload Identity Federation.
"><link rel=preload href=/docs_blog/scss/main.min.44e056411013bf8f18a255176cfb0420600587168abb56228837c1f35a8df1c0.css as=style><link href=/docs_blog/scss/main.min.44e056411013bf8f18a255176cfb0420600587168abb56228837c1f35a8df1c0.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/docs_blog/><span class="navbar-brand__logo navbar-logo"><svg width="128" height="128" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><title>OpenVERS Icon - White Background</title><desc>A dimensional icon for Open Data Versatility with a white background circle. It features an open deep blue ring and three bright teal lines with an enhanced extruded effect suggesting depth.</desc><style>.fill-none{fill:none}.stroke-linecap-round{stroke-linecap:round}.circle-main-style{stroke:#3b4856;stroke-width:10}.circle-depth-style{stroke:#072a5c;stroke-width:10}.line-main-style{stroke:#009cff;stroke-width:8}.line-depth-style{stroke:#007a8a;stroke-width:8}.line-accent-shadow-style{stroke:#005f6b;stroke-width:2}.bg-circle-style{fill:#fff}</style><circle class="bg-circle-style" cx="50" cy="50" r="50"/><path d="M86.5 51.5a35 35 0 11-35-35" class="fill-none stroke-linecap-round circle-depth-style"/><path d="M85 50A35 35 0 1150 15" class="fill-none stroke-linecap-round circle-main-style"/><g class="fill-none stroke-linecap-round line-accent-shadow-style"><line x1="52.5" y1="52.5" x2="79.5" y2="25.5"/><line x1="52.5" y1="52.5" x2="26.5" y2="37.5"/><line x1="52.5" y1="52.5" x2="52.5" y2="82.5"/></g><g class="fill-none stroke-linecap-round line-depth-style"><line x1="51.5" y1="51.5" x2="78.5" y2="24.5"/><line x1="51.5" y1="51.5" x2="25.5" y2="36.5"/><line x1="51.5" y1="51.5" x2="51.5" y2="81.5"/></g><g class="fill-none stroke-linecap-round line-main-style"><line x1="50" y1="50" x2="77" y2="23"/><line x1="50" y1="50" x2="24" y2="35"/><line x1="50" y1="50" x2="50" y2="80"/></g></svg></span><span class=navbar-brand__name>OpenVERS</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/docs_blog/about/><span>About</span></a></li><li class=nav-item><a class=nav-link href=/docs_blog/blog/><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/docs_blog/community/><span>Community</span></a></li></ul></div><div class="d-none d-lg-block"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search__icon></div><input type=search class="td-search__input form-control td-search-input" placeholder="Search this site…" aria-label="Search this site…" autocomplete=off></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs_blogdocs-li><a href=/docs_blog/docs/ title=Documentation class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs_blogdocs><span>Docs</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs_blogdocscloud_setup-li><a href=/docs_blog/docs/cloud_setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docs_blogdocscloud_setup><span>Cloud Setup</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs_blogdocscloud_setupgithub-li><a href=/docs_blog/docs/cloud_setup/github/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupgithub><span>Github</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs_blogdocscloud_setupterraform_io-li><a href=/docs_blog/docs/cloud_setup/terraform_io/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupterraform_io><span>Terraform.io</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs_blogdocscloud_setupaws-li><a href=/docs_blog/docs/cloud_setup/aws/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docs_blogdocscloud_setupaws><span>Amazon Web Services (AWS)</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupawsnew_account_setup-li><a href=/docs_blog/docs/cloud_setup/aws/new_account_setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupawsnew_account_setup><span>Account Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupawsterraform_backend-li><a href=/docs_blog/docs/cloud_setup/aws/terraform_backend/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupawsterraform_backend><span>Terraform Backend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupawsopenid_connect-li><a href=/docs_blog/docs/cloud_setup/aws/openid_connect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupawsopenid_connect><span>OpenID Connect</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs_blogdocscloud_setupazure-li><a href=/docs_blog/docs/cloud_setup/azure/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docs_blogdocscloud_setupazure><span>Microsoft Azure</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupazurenew_account_setup-li><a href=/docs_blog/docs/cloud_setup/azure/new_account_setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupazurenew_account_setup><span>Account Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupazureterraform_backend-li><a href=/docs_blog/docs/cloud_setup/azure/terraform_backend/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupazureterraform_backend><span>Terraform Backend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocscloud_setupazureopenid_connect-li><a href=/docs_blog/docs/cloud_setup/azure/openid_connect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupazureopenid_connect><span>OpenID Connect</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs_blogdocscloud_setupgcp-li><a href=/docs_blog/docs/cloud_setup/gcp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docs_blogdocscloud_setupgcp><span>Google Cloud Platform (GCP)</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs_blogdocscloud_setupgcpnew_account_setup-li><a href=/docs_blog/docs/cloud_setup/gcp/new_account_setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupgcpnew_account_setup><span>Account Setup</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docs_blogdocscloud_setupgcpterraform_backend-li><a href=/docs_blog/docs/cloud_setup/gcp/terraform_backend/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupgcpterraform_backend><span>Terraform Backend</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docs_blogdocscloud_setupgcpopenid_connect-li><a href=/docs_blog/docs/cloud_setup/gcp/openid_connect/ class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocscloud_setupgcpopenid_connect><span class=td-sidebar-nav-active-item>OpenID Connect</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs_blogdocsdata_ingestion-li><a href=/docs_blog/docs/data_ingestion/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docs_blogdocsdata_ingestion><span>Data Ingestion & Data Lake</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id=m-docs_blogdocsdata_ingestionaws-li><a href=/docs_blog/docs/data_ingestion/aws/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docs_blogdocsdata_ingestionaws><span>AWS | Data Ingestion & Data Lake</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="taxonomy-terms-cloud td-page-meta ms-2 pb-1 pt-2 mb-0"><h5 class=taxonomy-title>Page Actions</h5><a href=https://github.com/google/docsy-example/tree/main/content/en/docs/cloud_setup/gcp/openid_connect.md class="td-page-meta--view td-page-meta__view" target=_blank rel=noopener><i class="fa-solid fa-file-lines fa-fw"></i> View page source</a>
<a href=https://github.com/google/docsy-example/edit/main/content/en/docs/cloud_setup/gcp/openid_connect.md class="td-page-meta--edit td-page-meta__edit" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/google/docsy-example/new/main/content/en/docs/cloud_setup/gcp?filename=change-me.md&amp;value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class="td-page-meta--child td-page-meta__child" target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Create child page</a>
<a href="https://github.com/google/docsy-example/issues/new?title=OpenID%20Connect" class="td-page-meta--issue td-page-meta__issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/google/docsy/issues/new class="td-page-meta--project td-page-meta__project-issue" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a>
<a id=print href=/docs_blog/docs/cloud_setup/gcp/_print/><i class="fa-solid fa-print fa-fw"></i> Print entire section</a></div><div class="taxonomy-terms-cloud td-toc mt-3 mb-3 td-page-meta" style=opacity:1><h5 class=taxonomy-title>Contents</h5><nav id=TableOfContents class=td-page-toc__nav><ul><nav id=TableOfContents><ul><li><a href=#cli-steps>CLI Steps</a></li><li><a href=#console-steps>Console Steps</a><ul><li><a href=#1-create-workload-identity-pool>1. Create Workload Identity Pool</a></li><li><a href=#2-add-a-provider-to-the-pool-for-github-actions>2. Add a Provider to the Pool for GitHub Actions</a></li><li><a href=#3-create-service-accounts--grant-workload-identity-user-role>3. Create Service Account(s) & Grant Workload Identity User Role</a></li></ul></li></ul></nav></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tags</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/aws/ data-taxonomy-term=aws><img src="https://img.shields.io/badge/AWS-white.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAzMDQgMTgyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMDQgMTgyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI%2BDQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojMjUyRjNFO30NCgkuc3Qxe2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO2ZpbGw6I0ZGOTkwMDt9DQo8L3N0eWxlPg0KPGc%2BDQoJPHBhdGggY2xhc3M9InN0MCIgZD0iTTg2LjQsNjYuNGMwLDMuNywwLjQsNi43LDEuMSw4LjljMC44LDIuMiwxLjgsNC42LDMuMiw3LjJjMC41LDAuOCwwLjcsMS42LDAuNywyLjNjMCwxLTAuNiwyLTEuOSwzbC02LjMsNC4yDQoJCWMtMC45LDAuNi0xLjgsMC45LTIuNiwwLjljLTEsMC0yLTAuNS0zLTEuNEM3Ni4yLDkwLDc1LDg4LjQsNzQsODYuOGMtMS0xLjctMi0zLjYtMy4xLTUuOWMtNy44LDkuMi0xNy42LDEzLjgtMjkuNCwxMy44DQoJCWMtOC40LDAtMTUuMS0yLjQtMjAtNy4yYy00LjktNC44LTcuNC0xMS4yLTcuNC0xOS4yYzAtOC41LDMtMTUuNCw5LjEtMjAuNmM2LjEtNS4yLDE0LjItNy44LDI0LjUtNy44YzMuNCwwLDYuOSwwLjMsMTAuNiwwLjgNCgkJYzMuNywwLjUsNy41LDEuMywxMS41LDIuMnYtNy4zYzAtNy42LTEuNi0xMi45LTQuNy0xNmMtMy4yLTMuMS04LjYtNC42LTE2LjMtNC42Yy0zLjUsMC03LjEsMC40LTEwLjgsMS4zYy0zLjcsMC45LTcuMywyLTEwLjgsMy40DQoJCWMtMS42LDAuNy0yLjgsMS4xLTMuNSwxLjNjLTAuNywwLjItMS4yLDAuMy0xLjYsMC4zYy0xLjQsMC0yLjEtMS0yLjEtMy4xdi00LjljMC0xLjYsMC4yLTIuOCwwLjctMy41YzAuNS0wLjcsMS40LTEuNCwyLjgtMi4xDQoJCWMzLjUtMS44LDcuNy0zLjMsMTIuNi00LjVjNC45LTEuMywxMC4xLTEuOSwxNS42LTEuOWMxMS45LDAsMjAuNiwyLjcsMjYuMiw4LjFjNS41LDUuNCw4LjMsMTMuNiw4LjMsMjQuNlY2Ni40eiBNNDUuOCw4MS42DQoJCWMzLjMsMCw2LjctMC42LDEwLjMtMS44YzMuNi0xLjIsNi44LTMuNCw5LjUtNi40YzEuNi0xLjksMi44LTQsMy40LTYuNGMwLjYtMi40LDEtNS4zLDEtOC43di00LjJjLTIuOS0wLjctNi0xLjMtOS4yLTEuNw0KCQljLTMuMi0wLjQtNi4zLTAuNi05LjQtMC42Yy02LjcsMC0xMS42LDEuMy0xNC45LDRjLTMuMywyLjctNC45LDYuNS00LjksMTEuNWMwLDQuNywxLjIsOC4yLDMuNywxMC42DQoJCUMzNy43LDgwLjQsNDEuMiw4MS42LDQ1LjgsODEuNnogTTEyNi4xLDkyLjRjLTEuOCwwLTMtMC4zLTMuOC0xYy0wLjgtMC42LTEuNS0yLTIuMS0zLjlMOTYuNywxMC4yYy0wLjYtMi0wLjktMy4zLTAuOS00DQoJCWMwLTEuNiwwLjgtMi41LDIuNC0yLjVoOS44YzEuOSwwLDMuMiwwLjMsMy45LDFjMC44LDAuNiwxLjQsMiwyLDMuOWwxNi44LDY2LjJsMTUuNi02Ni4yYzAuNS0yLDEuMS0zLjMsMS45LTMuOWMwLjgtMC42LDIuMi0xLDQtMQ0KCQloOGMxLjksMCwzLjIsMC4zLDQsMWMwLjgsMC42LDEuNSwyLDEuOSwzLjlsMTUuOCw2N2wxNy4zLTY3YzAuNi0yLDEuMy0zLjMsMi0zLjljMC44LTAuNiwyLjEtMSwzLjktMWg5LjNjMS42LDAsMi41LDAuOCwyLjUsMi41DQoJCWMwLDAuNS0wLjEsMS0wLjIsMS42Yy0wLjEsMC42LTAuMywxLjQtMC43LDIuNWwtMjQuMSw3Ny4zYy0wLjYsMi0xLjMsMy4zLTIuMSwzLjljLTAuOCwwLjYtMi4xLDEtMy44LDFoLTguNmMtMS45LDAtMy4yLTAuMy00LTENCgkJYy0wLjgtMC43LTEuNS0yLTEuOS00TDE1NiwyM2wtMTUuNCw2NC40Yy0wLjUsMi0xLjEsMy4zLTEuOSw0Yy0wLjgsMC43LTIuMiwxLTQsMUgxMjYuMXogTTI1NC42LDk1LjFjLTUuMiwwLTEwLjQtMC42LTE1LjQtMS44DQoJCWMtNS0xLjItOC45LTIuNS0xMS41LTRjLTEuNi0wLjktMi43LTEuOS0zLjEtMi44Yy0wLjQtMC45LTAuNi0xLjktMC42LTIuOHYtNS4xYzAtMi4xLDAuOC0zLjEsMi4zLTMuMWMwLjYsMCwxLjIsMC4xLDEuOCwwLjMNCgkJYzAuNiwwLjIsMS41LDAuNiwyLjUsMWMzLjQsMS41LDcuMSwyLjcsMTEsMy41YzQsMC44LDcuOSwxLjIsMTEuOSwxLjJjNi4zLDAsMTEuMi0xLjEsMTQuNi0zLjNjMy40LTIuMiw1LjItNS40LDUuMi05LjUNCgkJYzAtMi44LTAuOS01LjEtMi43LTdjLTEuOC0xLjktNS4yLTMuNi0xMC4xLTUuMkwyNDYsNTJjLTcuMy0yLjMtMTIuNy01LjctMTYtMTAuMmMtMy4zLTQuNC01LTkuMy01LTE0LjVjMC00LjIsMC45LTcuOSwyLjctMTEuMQ0KCQljMS44LTMuMiw0LjItNiw3LjItOC4yYzMtMi4zLDYuNC00LDEwLjQtNS4yYzQtMS4yLDguMi0xLjcsMTIuNi0xLjdjMi4yLDAsNC41LDAuMSw2LjcsMC40YzIuMywwLjMsNC40LDAuNyw2LjUsMS4xDQoJCWMyLDAuNSwzLjksMSw1LjcsMS42YzEuOCwwLjYsMy4yLDEuMiw0LjIsMS44YzEuNCwwLjgsMi40LDEuNiwzLDIuNWMwLjYsMC44LDAuOSwxLjksMC45LDMuM3Y0LjdjMCwyLjEtMC44LDMuMi0yLjMsMy4yDQoJCWMtMC44LDAtMi4xLTAuNC0zLjgtMS4yYy01LjctMi42LTEyLjEtMy45LTE5LjItMy45Yy01LjcsMC0xMC4yLDAuOS0xMy4zLDIuOGMtMy4xLDEuOS00LjcsNC44LTQuNyw4LjljMCwyLjgsMSw1LjIsMyw3LjENCgkJYzIsMS45LDUuNywzLjgsMTEsNS41bDE0LjIsNC41YzcuMiwyLjMsMTIuNCw1LjUsMTUuNSw5LjZjMy4xLDQuMSw0LjYsOC44LDQuNiwxNGMwLDQuMy0wLjksOC4yLTIuNiwxMS42DQoJCWMtMS44LDMuNC00LjIsNi40LTcuMyw4LjhjLTMuMSwyLjUtNi44LDQuMy0xMS4xLDUuNkMyNjQuNCw5NC40LDI1OS43LDk1LjEsMjU0LjYsOTUuMXoiLz4NCgk8Zz4NCgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTI3My41LDE0My43Yy0zMi45LDI0LjMtODAuNywzNy4yLTEyMS44LDM3LjJjLTU3LjYsMC0xMDkuNS0yMS4zLTE0OC43LTU2LjdjLTMuMS0yLjgtMC4zLTYuNiwzLjQtNC40DQoJCQljNDIuNCwyNC42LDk0LjcsMzkuNSwxNDguOCwzOS41YzM2LjUsMCw3Ni42LTcuNiwxMTMuNS0yMy4yQzI3NC4yLDEzMy42LDI3OC45LDEzOS43LDI3My41LDE0My43eiIvPg0KCQk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjg3LjIsMTI4LjFjLTQuMi01LjQtMjcuOC0yLjYtMzguNS0xLjNjLTMuMiwwLjQtMy43LTIuNC0wLjgtNC41YzE4LjgtMTMuMiw0OS43LTkuNCw1My4zLTUNCgkJCWMzLjYsNC41LTEsMzUuNC0xOC42LDUwLjJjLTIuNywyLjMtNS4zLDEuMS00LjEtMS45QzI4Mi41LDE1NS43LDI5MS40LDEzMy40LDI4Ny4yLDEyOC4xeiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K&amp;logoColor=white" alt="AWS badge" style=vertical-align:middle;margin-right:4px>
<span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/azure/ data-taxonomy-term=azure><img src="https://img.shields.io/badge/Azure-white.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDk2IDk2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogICAgPGRlZnM%2BCiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJlMzk5YzE5Zi1iNjhmLTQyOWQtYjE3Ni0xOGMyMTE3ZmY3M2MiIHgxPSItMTAzMi4xNzIiIHgyPSItMTA1OS4yMTMiIHkxPSIxNDUuMzEyIiB5Mj0iNjUuNDI2IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDEwNzUgMTU4KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMxMTRhOGIiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMDY2OWJjIi8%2BCiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9ImFjMmE2ZmMyLWNhNDgtNDMyNy05YTNjLWQ0ZGNjMzI1NmUxNSIgeDE9Ii0xMDIzLjcyNSIgeDI9Ii0xMDI5Ljk4IiB5MT0iMTA4LjA4MyIgeTI9IjEwNS45NjgiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMTA3NSAxNTgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI%2BCiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMCIgc3RvcC1vcGFjaXR5PSIuMyIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9Ii4wNzEiIHN0b3Atb3BhY2l0eT0iLjIiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIuMzIxIiBzdG9wLW9wYWNpdHk9Ii4xIi8%2BCiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iLjYyMyIgc3RvcC1vcGFjaXR5PSIuMDUiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLW9wYWNpdHk9IjAiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iYTdmZWU5NzAtYTc4NC00YmIxLWFmOGQtNjNkMThlNWY3ZGI5IiB4MT0iLTEwMjcuMTY1IiB4Mj0iLTk5Ny40ODIiIHkxPSIxNDcuNjQyIiB5Mj0iNjguNTYxIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDEwNzUgMTU4KSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiMzY2NiZjQiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMjg5MmRmIi8%2BCiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxwYXRoIGZpbGw9InVybCgjZTM5OWMxOWYtYjY4Zi00MjlkLWIxNzYtMThjMjExN2ZmNzNjKSIgZD0iTTMzLjMzOCA2LjU0NGgyNi4wMzhsLTI3LjAzIDgwLjA4N2E0LjE1MiA0LjE1MiAwIDAgMS0zLjkzMyAyLjgyNEg4LjE0OWE0LjE0NSA0LjE0NSAwIDAgMS0zLjkyOC01LjQ3TDI5LjQwNCA5LjM2OGE0LjE1MiA0LjE1MiAwIDAgMSAzLjkzNC0yLjgyNXoiLz4KICAgIDxwYXRoIGZpbGw9IiMwMDc4ZDQiIGQ9Ik03MS4xNzUgNjAuMjYxaC00MS4yOWExLjkxMSAxLjkxMSAwIDAgMC0xLjMwNSAzLjMwOWwyNi41MzIgMjQuNzY0YTQuMTcxIDQuMTcxIDAgMCAwIDIuODQ2IDEuMTIxaDIzLjM4eiIvPgogICAgPHBhdGggZmlsbD0idXJsKCNhYzJhNmZjMi1jYTQ4LTQzMjctOWEzYy1kNGRjYzMyNTZlMTUpIiBkPSJNMzMuMzM4IDYuNTQ0YTQuMTE4IDQuMTE4IDAgMCAwLTMuOTQzIDIuODc5TDQuMjUyIDgzLjkxN2E0LjE0IDQuMTQgMCAwIDAgMy45MDggNS41MzhoMjAuNzg3YTQuNDQzIDQuNDQzIDAgMCAwIDMuNDEtMi45bDUuMDE0LTE0Ljc3NyAxNy45MSAxNi43MDVhNC4yMzcgNC4yMzcgMCAwIDAgMi42NjYuOTcySDgxLjI0TDcxLjAyNCA2MC4yNjFsLTI5Ljc4MS4wMDdMNTkuNDcgNi41NDR6Ii8%2BCiAgICA8cGF0aCBmaWxsPSJ1cmwoI2E3ZmVlOTcwLWE3ODQtNGJiMS1hZjhkLTYzZDE4ZTVmN2RiOSkiIGQ9Ik02Ni41OTUgOS4zNjRhNC4xNDUgNC4xNDUgMCAwIDAtMy45MjgtMi44MkgzMy42NDhhNC4xNDYgNC4xNDYgMCAwIDEgMy45MjggMi44MmwyNS4xODQgNzQuNjJhNC4xNDYgNC4xNDYgMCAwIDEtMy45MjggNS40NzJoMjkuMDJhNC4xNDYgNC4xNDYgMCAwIDAgMy45MjctNS40NzJ6Ii8%2BCjwvc3ZnPg%3D%3D&amp;logoColor=white" alt="Azure badge" style=vertical-align:middle;margin-right:4px>
<span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/gcp/ data-taxonomy-term=gcp><img src="https://img.shields.io/badge/GCP-white.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgLTI1IDI1NiAyNTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgoJCTxnPgoJCQkJPHBhdGggZD0iTTE3MC4yNTE3LDU2LjgxODYgTDE5Mi41MDQ3LDM0LjU2NTYgTDE5My45ODc3LDI1LjE5NTYgQzE1My40MzY3LC0xMS42Nzc0IDg4Ljk3NTcsLTcuNDk2NCA1Mi40MjA3LDMzLjkxOTYgQzQyLjI2NjcsNDUuNDIyNiAzNC43MzM3LDU5Ljc2MzYgMzAuNzE2Nyw3NC41NzI2IEwzOC42ODY3LDczLjQ0OTYgTDgzLjE5MTcsNjYuMTEwNiBMODYuNjI3Nyw2Mi41OTY2IEMxMDYuNDI0Nyw0MC44NTQ2IDEzOS44OTc3LDM3LjkyOTYgMTYyLjc1NTcsNTYuNDI4NiBMMTcwLjI1MTcsNTYuODE4NiBaIiBmaWxsPSIjRUE0MzM1Ij4KDTwvcGF0aD4KCQkJCTxwYXRoIGQ9Ik0yMjQuMjA0OCw3My45MTgyIEMyMTkuMDg5OCw1NS4wODIyIDIwOC41ODg4LDM4LjE0OTIgMTkzLjk4NzgsMjUuMTk2MiBMMTYyLjc1NTgsNTYuNDI4MiBDMTc1Ljk0MzgsNjcuMjA0MiAxODMuNDU2OCw4My40MzgyIDE4My4xMzQ4LDEwMC40NjUyIEwxODMuMTM0OCwxMDYuMDA5MiBDMTk4LjQ4NTgsMTA2LjAwOTIgMjEwLjkzMTgsMTE4LjQ1NDIgMjEwLjkzMTgsMTMzLjgwNTIgQzIxMC45MzE4LDE0OS4xNTcyIDE5OC40ODU4LDE2MS4yOTAyIDE4My4xMzQ4LDE2MS4yOTAyIEwxMjcuNDYzOCwxNjEuMjkwMiBMMTIxLjk5NzgsMTY3LjIyNDIgTDEyMS45OTc4LDIwMC41NjQyIEwxMjcuNDYzOCwyMDUuNzk1MiBMMTgzLjEzNDgsMjA1Ljc5NTIgQzIyMy4wNjQ4LDIwNi4xMDYyIDI1NS42ODY4LDE3NC4zMDEyIDI1NS45OTc4LDEzNC4zNzEyIEMyNTYuMTg1OCwxMTAuMTY4MiAyNDQuMjUyOCw4Ny40NzgyIDIyNC4yMDQ4LDczLjkxODIiIGZpbGw9IiM0Mjg1RjQiPgoNPC9wYXRoPgoJCQkJPHBhdGggZD0iTTcxLjg3MDQsMjA1Ljc5NTcgTDEyNy40NjM0LDIwNS43OTU3IEwxMjcuNDYzNCwxNjEuMjg5NyBMNzEuODcwNCwxNjEuMjg5NyBDNjcuOTA5NCwxNjEuMjg4NyA2NC4wNzM0LDE2MC40Mzc3IDYwLjQ3MTQsMTU4Ljc5MTcgTDUyLjU4NDQsMTYxLjIxMTcgTDMwLjE3NTQsMTgzLjQ2NDcgTDI4LjIyMzQsMTkxLjAzODcgQzQwLjc5MDQsMjAwLjUyNzcgNTYuMTIzNCwyMDUuODYzNyA3MS44NzA0LDIwNS43OTU3IiBmaWxsPSIjMzRBODUzIj4KDTwvcGF0aD4KCQkJCTxwYXRoIGQ9Ik03MS44NzA0LDYxLjQyNTUgQzMxLjkzOTQsNjEuNjYzNSAtMC4yMzY2LDk0LjIyNzUgMC4wMDE0LDEzNC4xNTc1IEMwLjEzNDQsMTU2LjQ1NTUgMTAuNTQ4NCwxNzcuNDQ1NSAyOC4yMjM0LDE5MS4wMzg1IEw2MC40NzE0LDE1OC43OTE1IEM0Ni40ODA0LDE1Mi40NzA1IDQwLjI2MzQsMTM2LjAwNTUgNDYuNTg0NCwxMjIuMDE1NSBDNTIuOTA0NCwxMDguMDI1NSA2OS4zNzA0LDEwMS44MDg1IDgzLjM1OTQsMTA4LjEyODUgQzg5LjUyNDQsMTEwLjkxMzUgOTQuNDYxNCwxMTUuODUxNSA5Ny4yNDY0LDEyMi4wMTU1IEwxMjkuNDk0NCw4OS43Njg1IEMxMTUuNzczNCw3MS44MzE1IDk0LjQ1MzQsNjEuMzQ0NSA3MS44NzA0LDYxLjQyNTUiIGZpbGw9IiNGQkJDMDUiPgoNPC9wYXRoPgoJCTwvZz4KPC9zdmc%2B&amp;logoColor=white" alt="GCP badge" style=vertical-align:middle;margin-right:4px>
<span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/github/ data-taxonomy-term=github><img src="https://img.shields.io/badge/Github-181717.svg?logo=github&amp;logoColor=white" alt="Github badge" style=vertical-align:middle;margin-right:4px>
<span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/terraform/ data-taxonomy-term=terraform><img src="https://img.shields.io/badge/Terraform-5835CC.svg?logo=terraform&amp;logoColor=white" alt="Terraform badge" style=vertical-align:middle;margin-right:4px>
<span class=taxonomy-count>4</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Categories</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/data-ingestion/ data-taxonomy-term=data-ingestion><span class=taxonomy-label>Data Ingestion</span>
<span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/data-lake/ data-taxonomy-term=data-lake><span class=taxonomy-label>Data Lake</span>
<span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/new-account/ data-taxonomy-term=new-account><span class=taxonomy-label>New Account</span>
<span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/openid-connect/ data-taxonomy-term=openid-connect><span class=taxonomy-label>OpenID Connect</span>
<span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/setup/ data-taxonomy-term=setup><span class=taxonomy-label>Setup</span>
<span class=taxonomy-count>15</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs_blog/docs/>Docs</a></li><li class=breadcrumb-item><a href=/docs_blog/docs/cloud_setup/>Cloud Setup</a></li><li class=breadcrumb-item><a href=/docs_blog/docs/cloud_setup/gcp/>Google Cloud Platform (GCP)</a></li><li class="breadcrumb-item active" aria-current=page>OpenID Connect</li></ol></nav><div class=td-content><h1>OpenID Connect</h1><div class=lead>GCP - Modernized Security for GitOps & CI/CD with GitHub Actions using Workload Identity Federation.</div><header class=article-meta><div class="taxonomy taxonomy-terms-badge taxo-tags"><h5 class=taxonomy-title>Tags:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/gcp/ data-taxonomy-term=gcp><img src="https://img.shields.io/badge/GCP-white.svg?logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCEtLSBVcGxvYWRlZCB0bzogU1ZHIFJlcG8sIHd3dy5zdmdyZXBvLmNvbSwgR2VuZXJhdG9yOiBTVkcgUmVwbyBNaXhlciBUb29scyAtLT4KPHN2ZyB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgLTI1IDI1NiAyNTYiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgoJCTxnPgoJCQkJPHBhdGggZD0iTTE3MC4yNTE3LDU2LjgxODYgTDE5Mi41MDQ3LDM0LjU2NTYgTDE5My45ODc3LDI1LjE5NTYgQzE1My40MzY3LC0xMS42Nzc0IDg4Ljk3NTcsLTcuNDk2NCA1Mi40MjA3LDMzLjkxOTYgQzQyLjI2NjcsNDUuNDIyNiAzNC43MzM3LDU5Ljc2MzYgMzAuNzE2Nyw3NC41NzI2IEwzOC42ODY3LDczLjQ0OTYgTDgzLjE5MTcsNjYuMTEwNiBMODYuNjI3Nyw2Mi41OTY2IEMxMDYuNDI0Nyw0MC44NTQ2IDEzOS44OTc3LDM3LjkyOTYgMTYyLjc1NTcsNTYuNDI4NiBMMTcwLjI1MTcsNTYuODE4NiBaIiBmaWxsPSIjRUE0MzM1Ij4KDTwvcGF0aD4KCQkJCTxwYXRoIGQ9Ik0yMjQuMjA0OCw3My45MTgyIEMyMTkuMDg5OCw1NS4wODIyIDIwOC41ODg4LDM4LjE0OTIgMTkzLjk4NzgsMjUuMTk2MiBMMTYyLjc1NTgsNTYuNDI4MiBDMTc1Ljk0MzgsNjcuMjA0MiAxODMuNDU2OCw4My40MzgyIDE4My4xMzQ4LDEwMC40NjUyIEwxODMuMTM0OCwxMDYuMDA5MiBDMTk4LjQ4NTgsMTA2LjAwOTIgMjEwLjkzMTgsMTE4LjQ1NDIgMjEwLjkzMTgsMTMzLjgwNTIgQzIxMC45MzE4LDE0OS4xNTcyIDE5OC40ODU4LDE2MS4yOTAyIDE4My4xMzQ4LDE2MS4yOTAyIEwxMjcuNDYzOCwxNjEuMjkwMiBMMTIxLjk5NzgsMTY3LjIyNDIgTDEyMS45OTc4LDIwMC41NjQyIEwxMjcuNDYzOCwyMDUuNzk1MiBMMTgzLjEzNDgsMjA1Ljc5NTIgQzIyMy4wNjQ4LDIwNi4xMDYyIDI1NS42ODY4LDE3NC4zMDEyIDI1NS45OTc4LDEzNC4zNzEyIEMyNTYuMTg1OCwxMTAuMTY4MiAyNDQuMjUyOCw4Ny40NzgyIDIyNC4yMDQ4LDczLjkxODIiIGZpbGw9IiM0Mjg1RjQiPgoNPC9wYXRoPgoJCQkJPHBhdGggZD0iTTcxLjg3MDQsMjA1Ljc5NTcgTDEyNy40NjM0LDIwNS43OTU3IEwxMjcuNDYzNCwxNjEuMjg5NyBMNzEuODcwNCwxNjEuMjg5NyBDNjcuOTA5NCwxNjEuMjg4NyA2NC4wNzM0LDE2MC40Mzc3IDYwLjQ3MTQsMTU4Ljc5MTcgTDUyLjU4NDQsMTYxLjIxMTcgTDMwLjE3NTQsMTgzLjQ2NDcgTDI4LjIyMzQsMTkxLjAzODcgQzQwLjc5MDQsMjAwLjUyNzcgNTYuMTIzNCwyMDUuODYzNyA3MS44NzA0LDIwNS43OTU3IiBmaWxsPSIjMzRBODUzIj4KDTwvcGF0aD4KCQkJCTxwYXRoIGQ9Ik03MS44NzA0LDYxLjQyNTUgQzMxLjkzOTQsNjEuNjYzNSAtMC4yMzY2LDk0LjIyNzUgMC4wMDE0LDEzNC4xNTc1IEMwLjEzNDQsMTU2LjQ1NTUgMTAuNTQ4NCwxNzcuNDQ1NSAyOC4yMjM0LDE5MS4wMzg1IEw2MC40NzE0LDE1OC43OTE1IEM0Ni40ODA0LDE1Mi40NzA1IDQwLjI2MzQsMTM2LjAwNTUgNDYuNTg0NCwxMjIuMDE1NSBDNTIuOTA0NCwxMDguMDI1NSA2OS4zNzA0LDEwMS44MDg1IDgzLjM1OTQsMTA4LjEyODUgQzg5LjUyNDQsMTEwLjkxMzUgOTQuNDYxNCwxMTUuODUxNSA5Ny4yNDY0LDEyMi4wMTU1IEwxMjkuNDk0NCw4OS43Njg1IEMxMTUuNzczNCw3MS44MzE1IDk0LjQ1MzQsNjEuMzQ0NSA3MS44NzA0LDYxLjQyNTUiIGZpbGw9IiNGQkJDMDUiPgoNPC9wYXRoPgoJCTwvZz4KPC9zdmc%2B&amp;logoColor=white" alt="GCP badge" style=vertical-align:middle></a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/tags/github/ data-taxonomy-term=github><img src="https://img.shields.io/badge/Github-181717.svg?logo=github&amp;logoColor=white" alt="Github badge" style=vertical-align:middle></a></li></ul></div><div class="taxonomy taxonomy-terms-badge taxo-categories"><h5 class=taxonomy-title>Categories:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/setup/ data-taxonomy-term=Setup>Setup</a></li><li><a class=taxonomy-term href=https://openvers.github.io/docs_blog/categories/openid-connect/ data-taxonomy-term="OpenID Connect">OpenID Connect</a></li></ul></div></header><h1 id=openid-connect-oidc-with-github-actions-and-gcp-workload-identity-federation>OpenID Connect (OIDC) with GitHub Actions and GCP Workload Identity Federation<a class=td-heading-self-link href=#openid-connect-oidc-with-github-actions-and-gcp-workload-identity-federation aria-label="Heading self-link"></a></h1><p>Google Cloud&rsquo;s <a href=https://cloud.google.com/iam/docs/workload-identity-federation>Workload Identity Federation</a> allows identities from external OpenID Connect (OIDC) providers, like GitHub Actions, to impersonate Google Cloud service accounts. This enables your GitHub Actions workflows to securely access GCP resources without needing to manage or store long-lived service account keys in GitHub. Instead, workflows obtain short-lived access tokens, enhancing security and simplifying credential management for CI/CD pipelines.</p><h2 id=cli-steps>CLI Steps<a class=td-heading-self-link href=#cli-steps aria-label="Heading self-link"></a></h2><ul class="nav nav-tabs justify-content-end" id=tabs-0 role=tablist><li class=nav-item><button class="nav-link disabled" id=tabs-00-00-tab data-bs-toggle=tab data-bs-target=#tabs-00-00 role=tab aria-controls=tabs-00-00 aria-selected=false>
<strong>Examples</strong>:</button></li><li class=nav-item><button class="nav-link active" id=tabs-00-01-tab data-bs-toggle=tab data-bs-target=#tabs-00-01 role=tab data-td-tp-persist=shell aria-controls=tabs-00-01 aria-selected=true>
<span style=vertical-align:middle><img src="data:image/svg+xml,%3Csvg%20height=%221024%22%20width=%22896%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath%20d=%22M831%20127H63c-35.35.0-64%2028.65-64%2064v640c0%2035.35%2028.65%2064%2064%2064h768c35.35.0%2064-28.65%2064-64V191c0-35.35-28.65-64-64-64zM127%20575l128-128L127%20319l64-64%20192%20192L191%20639l-64-64zm512%2064H383v-64h256v64z%22/%3E%3C/svg%3E" alt="CLI (Create) icon" style=height:1.5em;vertical-align:middle;margin-right:.3em></span>
CLI (Create)</button></li><li class=nav-item><button class=nav-link id=tabs-00-02-tab data-bs-toggle=tab data-bs-target=#tabs-00-02 role=tab aria-controls=tabs-00-02 aria-selected=false>
<span style=vertical-align:middle><img src="data:image/svg+xml,%3Csvg%20height=%221024%22%20width=%22896%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath%20d=%22M831%20127H63c-35.35.0-64%2028.65-64%2064v640c0%2035.35%2028.65%2064%2064%2064h768c35.35.0%2064-28.65%2064-64V191c0-35.35-28.65-64-64-64zM127%20575l128-128L127%20319l64-64%20192%20192L191%20639l-64-64zm512%2064H383v-64h256v64z%22/%3E%3C/svg%3E" alt="CLI (Destroy) icon" style=height:1.5em;vertical-align:middle;margin-right:.3em></span>
CLI (Destroy)</button></li></ul><div class=tab-content id=tabs-0-content><div class="tab-pane fade" id=tabs-00-00 role=tabpanel aria-labelled-by=tabs-00-00-tab tabindex=0><pre tabindex=0><code></code></pre></div><div class="tab-pane fade show active" id=tabs-00-01 role=tabpanel aria-labelled-by=tabs-00-01-tab tabindex=0><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell><span style=display:flex><span>mkdir -p ~/development/test/example_gcp_oidc
</span></span><span style=display:flex><span><span style=color:#204a87>cd</span> ~/development/test/example_gcp_oidc
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>## 0. Prerequisites &amp; Configuration</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Ensure gcloud CLI is installed, authenticated, and configured with a default project.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Ensure GitHub CLI (gh) is installed and authenticated if using it to get repo details.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>GCP_PROJECT_ID</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span>gcloud config get-value project<span style=color:#204a87;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>GCP_PROJECT_NUMBER</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span>gcloud projects describe <span style=color:#000>$GCP_PROJECT_ID</span> --format<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#39;value(projectNumber)&#39;</span><span style=color:#204a87;font-weight:700>)</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>GH_OWNER</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;your-github-username-or-org&#34;</span> <span style=color:#8f5902;font-style:italic># Replace with your GitHub username or organization</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>GH_REPO</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;your-github-repo-name&#34;</span>    <span style=color:#8f5902;font-style:italic># Replace with your GitHub repository name</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>GCP_USER_EMAIL</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87;font-weight:700>$(</span>gcloud config get-value account<span style=color:#204a87;font-weight:700>)</span> <span style=color:#8f5902;font-style:italic># Your GCP user email, for optional SA impersonation</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>POOL_ID</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;github-pool-</span><span style=color:#204a87;font-weight:700>$(</span>openssl rand -hex 2<span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>PROVIDER_ID</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;github-provider-</span><span style=color:#204a87;font-weight:700>$(</span>openssl rand -hex 2<span style=color:#204a87;font-weight:700>)</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>## 1. Grant Workload Identity Pool Permissions to Service Account</span>
</span></span><span style=display:flex><span>gcloud projects add-iam-policy-binding <span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --member<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;serviceAccount:</span><span style=color:#000>$GCP_SA_EMAIL</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --role<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;roles/iam.workloadIdentityPoolAdmin&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>## 1. Create a Workload Identity Pool</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># https://cloud.google.com/iam/docs/reference/rest/v1/projects.locations.workloadIdentityPools/create</span>
</span></span><span style=display:flex><span>gcloud iam workload-identity-pools create <span style=color:#000>$POOL_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --project<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --location<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;global&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --display-name<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;GitHub Actions Pool&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --description<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Pool for GitHub Actions OIDC federation&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>## 2. Create a Workload Identity Provider in the Pool for GitHub</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># https://cloud.google.com/iam/docs/reference/rest/v1/projects.locations.workloadIdentityPools.providers/create</span>
</span></span><span style=display:flex><span>gcloud iam workload-identity-pools providers create-oidc <span style=color:#000>$PROVIDER_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --project<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --workload-identity-pool<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$POOL_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --location<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;global&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --issuer-uri<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://token.actions.githubusercontent.com&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --allowed-audiences<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;https://iam.googleapis.com/projects/</span><span style=color:#4e9a06>${</span><span style=color:#000>GCP_PROJECT_NUMBER</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/locations/global/workloadIdentityPools/</span><span style=color:#4e9a06>${</span><span style=color:#000>POOL_ID</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/providers/</span><span style=color:#4e9a06>${</span><span style=color:#000>PROVIDER_ID</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --display-name<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;GitHub OIDC Provider&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --description<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;Provider for GitHub Actions&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --attribute-mapping<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;google.subject=assertion.sub,attribute.actor=assertion.actor,attribute.aud=assertion.aud,attribute.repository=assertion.repository,attribute.repository_owner=assertion.repository_owner,attribute.ref=assertion.ref&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --attribute-condition<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;assertion.repository == &#39;</span><span style=color:#4e9a06>${</span><span style=color:#000>GH_OWNER</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/</span><span style=color:#4e9a06>${</span><span style=color:#000>GH_REPO</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#39; &amp;&amp; assertion.ref == &#39;refs/heads/main&#39;&#34;</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># The --attribute-condition above restricts this provider to only issue credentials for tokens from the specified repo and main branch.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># You can make it broader (e.g., only `assertion.repository_owner == &#39;${GH_OWNER}&#39;`) and control access via IAM conditions on the service account binding.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>## 3. Create a dedicated OIDC SA &amp; Grant necessary permissions on GCP resources</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Adjust the role (e.g., roles/iam.securityReviewer, roles/run.invoker, roles/editor) based on what your workflow needs to do.</span>
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>GCP_POOL_SA_ID</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>${</span><span style=color:#000>POOL_ID</span><span style=color:#4e9a06>}</span>-sa
</span></span><span style=display:flex><span><span style=color:#204a87>export</span> <span style=color:#000>GCP_POOL_SA_EMAIL</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>${</span><span style=color:#000>GCP_POOL_SA_ID</span><span style=color:#4e9a06>}</span>@<span style=color:#4e9a06>${</span><span style=color:#000>GCP_PROJECT_ID</span><span style=color:#4e9a06>}</span>.iam.gserviceaccount.com
</span></span><span style=display:flex><span>gcloud iam service-accounts create <span style=color:#000>$GCP_POOL_SA_ID</span>
</span></span><span style=display:flex><span>gcloud projects add-iam-policy-binding <span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --member<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;serviceAccount:</span><span style=color:#4e9a06>${</span><span style=color:#000>GCP_POOL_SA_EMAIL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --role<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;roles/storage.admin&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>## 4. Allow GitHub Actions (via the Workload Identity Provider) to impersonate the Service Account</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># This binds the GitHub OIDC subject (filtered by the provider&#39;s attribute-condition) to the SA.</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># The subject from GitHub OIDC token for a specific repo and ref is `repo:OWNER/REPO_NAME:ref:refs/heads/main`</span>
</span></span><span style=display:flex><span><span style=color:#000>GH_SUBJECT_ASSERTION</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;repo:</span><span style=color:#4e9a06>${</span><span style=color:#000>GH_OWNER</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/</span><span style=color:#4e9a06>${</span><span style=color:#000>GH_REPO</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>:ref:refs/heads/main&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>gcloud iam service-accounts add-iam-policy-binding <span style=color:#000>$GCP_POOL_SA_EMAIL</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --project<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --role<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;roles/iam.workloadIdentityUser&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --member<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;principal://iam.googleapis.com/projects/</span><span style=color:#4e9a06>${</span><span style=color:#000>GCP_PROJECT_NUMBER</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/locations/global/workloadIdentityPools/</span><span style=color:#4e9a06>${</span><span style=color:#000>POOL_ID</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/subject/</span><span style=color:#4e9a06>${</span><span style=color:#000>GH_SUBJECT_ASSERTION</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>## 5. (Optional) Allow your GCP user to impersonate the Service Account for testing/local development</span>
</span></span><span style=display:flex><span>gcloud iam service-accounts add-iam-policy-binding <span style=color:#000>$GCP_POOL_SA_EMAIL</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --project<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --role<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;roles/iam.serviceAccountTokenCreator&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --member<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;user:</span><span style=color:#4e9a06>${</span><span style=color:#000>GCP_USER_EMAIL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div><div class="tab-pane fade" id=tabs-00-02 role=tabpanel aria-labelled-by=tabs-00-02-tab tabindex=0><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Shell data-lang=Shell><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Ensure environment variables from the Create step are set, or re-define them:</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 1. (Optional) Remove GCP user&#39;s permission to impersonate the Service Account</span>
</span></span><span style=display:flex><span>gcloud iam service-accounts remove-iam-policy-binding <span style=color:#000>$GCP_POOL_SA_EMAIL</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --project<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --role<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;roles/iam.serviceAccountTokenCreator&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --member<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;user:</span><span style=color:#4e9a06>${</span><span style=color:#000>GCP_USER_EMAIL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 2. Remove GitHub Actions&#39; permission to impersonate the Service Account</span>
</span></span><span style=display:flex><span><span style=color:#000>GH_SUBJECT_ASSERTION</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;repo:</span><span style=color:#4e9a06>${</span><span style=color:#000>GH_OWNER</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/</span><span style=color:#4e9a06>${</span><span style=color:#000>GH_REPO</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>:ref:refs/heads/main&#34;</span> <span style=color:#8f5902;font-style:italic># Reconstruct if not set</span>
</span></span><span style=display:flex><span>gcloud iam service-accounts remove-iam-policy-binding <span style=color:#000>$GCP_POOL_SA_EMAIL</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --project<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --role<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;roles/iam.workloadIdentityUser&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --member<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;principal://iam.googleapis.com/projects/</span><span style=color:#4e9a06>${</span><span style=color:#000>GCP_PROJECT_NUMBER</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/locations/global/workloadIdentityPools/</span><span style=color:#4e9a06>${</span><span style=color:#000>POOL_ID</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>/subject/</span><span style=color:#4e9a06>${</span><span style=color:#000>GH_SUBJECT_ASSERTION</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 3. Remove roles granted to the Service Account (example: roles/iam.securityReviewer)</span>
</span></span><span style=display:flex><span>gcloud projects remove-iam-policy-binding <span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --member<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;serviceAccount:</span><span style=color:#4e9a06>${</span><span style=color:#000>GCP_POOL_SA_EMAIL</span><span style=color:#4e9a06>}</span><span style=color:#4e9a06>&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --role<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;roles/storage.admin&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 4. Delete the Service Account</span>
</span></span><span style=display:flex><span>gcloud iam service-accounts delete <span style=color:#000>$GCP_POOL_SA_EMAIL</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --project<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$GCP_PROJECT_ID</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 5. Delete the Workload Identity Provider</span>
</span></span><span style=display:flex><span>gcloud iam workload-identity-pools providers delete <span style=color:#000>$PROVIDER_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --project<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --workload-identity-pool<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$POOL_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --location<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;global&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># 6. Delete the Workload Identity Pool</span>
</span></span><span style=display:flex><span>gcloud iam workload-identity-pools delete <span style=color:#000>$POOL_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --project<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>$GCP_PROJECT_ID</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --location<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;global&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  </span></span></code></pre></div></div></div><h2 id=console-steps>Console Steps<a class=td-heading-self-link href=#console-steps aria-label="Heading self-link"></a></h2><h3 id=1-create-workload-identity-pool>1. Create Workload Identity Pool<a class=td-heading-self-link href=#1-create-workload-identity-pool aria-label="Heading self-link"></a></h3><p>Start by creating a new <a href=https://cloud.google.com/iam/docs/manage-workload-identity-pools-providers>Workload Identity Pool</a> - provide a name like <code>github-actions-pool</code>. The Workload Identity Pool (WIP) will centralize the collection of possible OIDC providers we can configure to provide least-priviledged access into our GCP Project.</p><h3 id=2-add-a-provider-to-the-pool-for-github-actions>2. Add a Provider to the Pool for GitHub Actions<a class=td-heading-self-link href=#2-add-a-provider-to-the-pool-for-github-actions aria-label="Heading self-link"></a></h3><p>After creating our WIP, we can now <a href=https://cloud.google.com/iam/docs/manage-workload-identity-pools-providers#manage-providers>Manage Providers</a>. Setup instructions for <a href=https://docs.github.com/en/actions/security-for-github-actions/security-hardening-your-deployments/configuring-openid-connect-in-google-cloud-platform#adding-a-google-cloud-workload-identity-provider>OIDC between GCP and Github</a> are sparse, but more cross-platform details can be found in the <a href=https://docs.github.com/en/actions/security-for-github-actions/security-hardening-your-deployments/about-security-hardening-with-openid-connect#configuring-the-subject-in-your-cloud-provider>Security Hardening Guide</a>. Use the following details to setup Github OIDC provider in our WIP.</p><ul><li><strong>Issuer (URL)</strong> Enter <code>https://token.actions.githubusercontent.com</code>.</li><li><strong>Attribute Mapping</strong> details/ maps the <a href=https://docs.github.com/en/actions/security-for-github-actions/security-hardening-your-deployments/about-security-hardening-with-openid-connect#understanding-the-oidc-token>OIDC Token Claims</a> for CEL expression filtering<ul><li><code>google.subject</code>: <code>assertion.sub</code></li><li><code>attribute.actor</code>: <code>assertion.actor</code></li><li><code>attribute.aud</code>: <code>assertion.aud</code></li><li><code>attribute.repository</code>: <code>assertion.repository</code> (e.g., <code>your-owner/your-repo</code>)</li><li><code>attribute.repository_owner</code>: <code>assertion.repository_owner</code></li><li><code>attribute.ref</code>: <code>assertion.ref</code> (e.g., <code>refs/heads/main</code>)</li><li><code>attribute.environment</code>: <code>assertion.environment</code> (if you use GitHub environments)</li></ul></li><li><strong>Attribute Condition (Optional but Recommended)</strong>:<ul><li>This CEL expression filters which GitHub tokens are allowed by this provider.</li><li>Example for a specific repository and its main branch:
<code>assertion.repository == 'YOUR_GITHUB_OWNER/YOUR_GITHUB_REPO' && assertion.ref == 'refs/heads/main'</code></li><li>Example for any repository under a specific owner:
<code>assertion.repository_owner == 'YOUR_GITHUB_OWNER'</code></li></ul></li></ul><h3 id=3-create-service-accounts--grant-workload-identity-user-role>3. Create Service Account(s) & Grant Workload Identity User Role<a class=td-heading-self-link href=#3-create-service-accounts--grant-workload-identity-user-role aria-label="Heading self-link"></a></h3><p>You&rsquo;ll need one or more <a href=https://cloud.google.com/iam/docs/service-accounts-create>New Service Account</a> that your GitHub Actions workflows will impersonate. Configure the Workload Identity Pool (i.e., specific GitHub Actions workflows) with <a href=https://cloud.google.com/iam/docs/workload-identity-federation#access_management>WIP Access Management</a> to impersonate the service account(s). <a href=https://cloud.google.com/iam/docs/manage-access-service-accounts#grant-single-role>Grant Principal Access</a> to the Service Account with either of the following Principals:</p><ul><li>To allow workflows from a specific repository and specific branch (e.g., <code>main</code>):
<code>principal://iam.googleapis.com/projects/PROJECT_NUMBER/locations/global/workloadIdentityPools/POOL_ID/subject/repo:GITHUB_OWNER/GITHUB_REPO_NAME:ref:refs/heads/main</code></li><li>To allow workflows from a specific repository and specific environment (e.g., <code>production</code>):
<code>principal://iam.googleapis.com/projects/PROJECT_NUMBER/locations/global/workloadIdentityPools/POOL_ID/subject/repo:GITHUB_OWNER/GITHUB_REPO_NAME:environment:production</code>
<strong>Replace <code>PROJECT_NUMBER</code>, <code>POOL_ID</code>, <code>PROVIDER_ID</code>, <code>GITHUB_OWNER</code>, <code>GITHUB_REPO_NAME</code> with your actual values.</strong></li></ul><p><strong>Assign roles</strong>: <strong>Workload Identity User</strong> (<code>roles/iam.workloadIdentityUser</code>) to allow for Workload Identity Federation impersonation with the Service Account. Lastly, bind the necessary roles with least priviledges to operate. Repeat for other service accounts and GitHub principal combinations as needed. For example:
* <code>github-cicd-read-sa</code> might be impersonable by <code>repo:ORG/REPO:ref:refs/heads/*</code> (any branch).
* <code>github-cicd-deploy-sa</code> might be impersonable by <code>repo:ORG/REPO:ref:refs/heads/main</code> or <code>repo:ORG/REPO:environment:production</code>.</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes">Glad to hear it! Please <a href=https://github.com/USERNAME/REPOSITORY/issues/new>tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a href=https://github.com/USERNAME/REPOSITORY/issues/new>tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof gtag!="function")return;gtag("event","page_helpful",{event_category:"Helpful",event_label:window.location.pathname,value:e})};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(100)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><br><div class=td-page-meta__lastmod>Last modified September 3, 2025: <a href=https://github.com/google/docsy-example/commit/adb2e6114548e775e80d3ae51c823b61ea6de771>Initial Commit (adb2e61)</a></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title="User mailing list" aria-label="User mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="User mailing list"><i class="fa fa-envelope"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://example.org/twitter aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://example.org/stack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/google/docsy aria-label=GitHub><i class="fab fa-github"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://example.org/slack aria-label=Slack><i class="fab fa-slack"></i></a></li><li class=td-footer__links-item data-bs-toggle=tooltip title="Developer mailing list" aria-label="Developer mailing list"><a target=_blank rel=noopener href=https://example.org/mail aria-label="Developer mailing list"><i class="fa fa-envelope"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2018&ndash;2025
<span class=td-footer__authors>Docsy Authors | <a href=https://creativecommons.org/licenses/by/4.0>CC BY 4.0</a> |</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span><span class=ms-2><a href=https://policies.google.com/privacy target=_blank rel=noopener>Privacy Policy</a></span></div></div></div></footer></div><script src=/docs_blog/js/main.min.115f19af160d1221e5d7ad0bb0ea2960832ce0857063f349661781f47be40740.js integrity="sha256-EV8ZrxYNEiHl160LsOopYIMs4IVwY/NJZheB9HvkB0A=" crossorigin=anonymous></script>
<script defer src=/docs_blog/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script>
<script src=/docs_blog/js/tabpane-persist.js></script></body></html>